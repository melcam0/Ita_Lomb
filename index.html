<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Ita Lomb</title>

<meta property="og:title" content="Ita Lomb" />

<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

<link rel="icon" href="data:image/x-icon;" type="image/x-icon">


<script type="text/javascript">
window.FlexDashboardComponents = [];
</script>

<script id="flexdashboard-navbar" type="application/json">
[{"icon":"fa-envelope-o","href":"mailto:camillomelzi@gmail.com","align":"right"},{"title":"Source Code","icon":"fa-code","href":"source_embed","align":"right"}]
</script>
<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.5.1/jquery-3.5.1.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/stickytableheaders-0.1.19/jquery.stickytableheaders.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link href="site_libs/featherlight-1.3.5/featherlight.min.css" rel="stylesheet" />
<script src="site_libs/featherlight-1.3.5/featherlight.min.js"></script>
<link href="site_libs/prism-1.4.1/prism.css" rel="stylesheet" />
<script src="site_libs/prism-1.4.1/prism.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.18/datatables.js"></script>
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<script src="site_libs/jszip-1.10.20/jszip.min.js"></script>
<script src="site_libs/pdfmake-1.10.20/pdfmake.js"></script>
<script src="site_libs/pdfmake-1.10.20/vfs_fonts.js"></script>
<link href="site_libs/dt-ext-buttons-1.10.20/css/buttons.dataTables.min.css" rel="stylesheet" />
<script src="site_libs/dt-ext-buttons-1.10.20/js/dataTables.buttons.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.20/js/buttons.flash.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.20/js/buttons.html5.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.20/js/buttons.colVis.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.20/js/buttons.print.min.js"></script>
<link href="site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<style type="text/css">

/*
 Dashboard CSS from Keen IO Dashboards
 (https://github.com/keen/dashboards)
*/

body {
  background: #f2f2f2;
  padding: 60px 0 0 8px; /* padding-top overridden by theme */
}

body hr {
  border-color: #d7d7d7;
  margin: 10px 0;
}

.navbar-inverse .navbar-nav > li > a,
.navbar .navbar-brand {
  text-decoration: none;
}

.navbar-logo {
  margin-top: 1px;
}

.navbar-logo img {
  margin-right: 12px;
}

.navbar-author {
  margin-left: 10px;
  font-size: 15px;
}

.navbar .dropdown-menu .fa {
  min-width: 20px;
}

.navbar .dropdown-menu {
  min-width: 150px;
  max-height: 500px;
  overflow: auto;
}

.chart-wrapper,
.nav-tabs-custom,
.sbframe-commentary
{
  background: #fff;
  border: 1px solid #e2e2e2;
  border-radius: 3px;
  margin-bottom: 8px;
  margin-right: 8px;
}

.chart-title {
  border-bottom: 1px solid #d7d7d7;
  color: #666;
  font-size: 14px;
  font-weight: 300;
  padding: 7px 10px 4px;
}

.chart-wrapper .chart-title:empty {
  display: none;
}

.chart-wrapper .chart-stage {
  overflow: hidden;
  padding: 5px 10px;
  position: relative;
}

.chart-wrapper .chart-notes {
  background: #fbfbfb;
  border-top: 1px solid #e2e2e2;
  color: #808080;
  font-size: 12px;
  padding: 8px 10px 5px;
}

/*
 CSS for handling flexbox layout
*/

#dashboard-container {
  visibility: hidden;
}

.tab-content>.dashboard-page-wrapper.active {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}

.dashboard-page-wrapper {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-flex-direction: column;
      -ms-flex-direction: column;
          flex-direction: column;
}

.dashboard-row-orientation {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-flex-direction: column;
      -ms-flex-direction: column;
          flex-direction: column;
}

.dashboard-row {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
  -webkit-flex-direction: row;
      -ms-flex-direction: row;
          flex-direction: row;
}

.dashboard-row-flex {
  -webkit-box-flex: 1;
  -webkit-flex: 1;
      -ms-flex: 1;
          flex: 1;
}

.dashboard-column-orientation {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
  -webkit-flex-direction: row;
      -ms-flex-direction: row;
          flex-direction: row;
}

.dashboard-column {
  -webkit-box-flex: 1;
  -webkit-flex: 1;
      -ms-flex: 1;
          flex: 1;
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-flex-direction: column;
      -ms-flex-direction: column;
          flex-direction: column;
}

.chart-wrapper-flex {
  -webkit-box-flex: 1;
  -webkit-flex: 1;
      -ms-flex: 1;
          flex: 1;
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-flex-direction: column;
      -ms-flex-direction: column;
          flex-direction: column;
}

.chart-stage-flex {
  -webkit-box-flex: 1;
  -webkit-flex: 1;
      -ms-flex: 1;
          flex: 1;
  position: relative;
}

.chart-shim {
  position: absolute;
  left: 8px; top: 8px; right: 8px; bottom: 8px;
}

.no-padding .chart-shim {
  left: 0; top: 0; right: 0; bottom: 0;
}

.flowing-content-shim {
  overflow: auto;
  left: 0; top: 0; right: 0; bottom: 0;
  padding-left: 8px;
  padding-right: 8px;
}

.flowing-content-container {
  padding-top: 8px;
  padding-bottom: 8px;
}

.chart-stage .table-bordered {
  border: none;
}

.chart-stage .table-bordered > tbody > tr > th,
.chart-stage .table-bordered > tfoot > tr > th,
.chart-stage .table-bordered > tbody > tr > td,
.chart-stage .table-bordered > tfoot > tr > td {
  border: none;
}

.chart-stage .table-bordered > tbody > tr > td {
  border-top: 1px solid #dddddd;
}

.chart-stage .table-bordered > thead > tr > th {
  border: none;
  border-bottom: 2px solid #dddddd;
}

.bootstrap-table table>thead {
  background-color: #fff;
}

.bootstrap-table table.data,
.bootstrap-table table.shiny-table {
  width: inherit !important;
}

.bootstrap-table table.data>tbody>tr>th,
.bootstrap-table table.shiny-table>tbody>tr>th {
  border-top: none;
  border-bottom: 2px solid #dddddd;
  padding: 5px;
}

.bootstrap-table .data td[align=right] {
  font-family: inherit;
}

.chart-wrapper form {
  padding-left: 5px;
  padding-right: 5px;
}

.shiny-input-container label {
  font-weight: normal;
}

.chart-stage .html-widget {
  width: 100% !important;
  height: 100% !important;
}

.chart-stage .html-widget-static-bound {
  width: 100% !important;
  height: 100% !important;
}

.chart-stage .shiny-bound-output {
  width: 100% !important;
  height: 100% !important;
}

/* Omit display of empty paragraphs */

.chart-shim>p:empty {
  display: none;
}

.chart-stage>p:empty {
  display: none;
}

/* Omit display of special knitr options div*/

.chart-stage .knitr-options {
  display: none;
}

/* Automatically resizing images */

.image-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  margin: 0;
}

.image-container img {
  opacity: 0;
  overflow: hidden;
}

/* Value box */

.value-box {
  border-radius: 2px;
  position: relative;
  display: block;
  margin-right: 8px;
  margin-bottom: 8px;
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
}

.value-box > .inner {
  padding: 10px;
  padding-left: 20px;
  padding-right: 20px;
}

.value-box .value {
  font-size: 38px;
  font-weight: bold;
  margin: 0 0 3px 0;
  white-space: nowrap;
  padding: 0;
}

.value-box .caption {
  font-size: 15px;
}
.value-box .caption > small {
  display: block;
  font-size: 13px;
  margin-top: 5px;
}

.value-box .icon i {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 80px;
  color: rgba(0, 0, 0, 0.15);
}

.linked-value:hover {
  cursor: pointer;
}

.value-box.linked-value:hover {
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.3);
}

/* STORYBOARD */

.storyboard-nav button {
  background: transparent;
  border: 0;
  opacity: .3;
  outline: none;
  padding: 0;
}

.storyboard-nav button:hover,
.storyboard-nav button:hover {
  opacity: .5;
}

.storyboard-nav button:disabled,
.storyboard-nav button:disabled {
  opacity: .1;
}

.storyboard-nav .sbnext,
.storyboard-nav .sbprev {
  float: left;
  width: 2%;
  height: 120px;
  font-size: 50px;
}

.storyboard-nav .sbprev {
  text-align: left;
  width: 2%;
}

.storyboard-nav .sbnext {
  float: right;
  text-align: right;
  margin-right: 8px;
}

.storyboard-nav .sbframelist {
  margin: 0 auto;
  width: 94%;
  height: 120px;
  overflow: hidden;
  text-shadow: none;
  margin-bottom: 8px;
}

.storyboard-nav .sbframelist ul {
  list-style: none;
  margin: 0;
  padding: 0;
  height: 100%;
}

.storyboard-nav .sbframelist ul li {
  float: left;
  width: 270px;
  height: 100%;
  padding: 10px 10px 10px 10px;
  margin-right: 8px;
  background: #fff;
  border: 1px solid #e2e2e2;
  border-radius: 3px;
  color: #3a3c47;
  text-align: left;
  font-size: 14px;
  cursor: pointer;
}

.storyboard-nav .sbframelist ul li:last-child {
  margin-right: 0px;
}

.storyboard-nav .sbframelist ul li.active {
  color: #fff;
  background: #B8B8B8;
}

.sbframe-commentary {
  width: 300px;
  background: #fbfbfb;
  font-size: 14px;
}

.sbframe-commentary ul {
  padding-left: 22px;
}

.sbframe.active {
  display: flex;
}

.sbframe:not(.active) {
  display: none;
}

/* NAV TABS */

.nav-tabs-custom > .nav-tabs {
  margin: 0;
  border-bottom: 1px solid #d7d7d7;
  color: #666;
  font-size: 14px;
  font-weight: 300;
  border-top-right-radius: 3px;
  border-top-left-radius: 3px;
}
.nav-tabs-custom > .nav-tabs > li {
  border-top: 3px solid transparent;
  margin-bottom: -1px;
  margin-right: 5px;
}
.nav-tabs-custom > .nav-tabs > li > a,
.nav-tabs-custom > .nav-tabs > li > a:active {
  color: #666;
  font-weight: 300;
  font-size: 14px;
  border-radius: 0;
  padding: 3px 10px 5px;
  text-transform: none;
}

.nav-tabs-custom > .nav-tabs > li:not(.active) > a {
  border-bottom-color: transparent;
}

.nav-tabs-custom > .nav-tabs > li > a.text-muted {
  color: #999;
}
.nav-tabs-custom > .nav-tabs > li > a,
.nav-tabs-custom > .nav-tabs > li > a:hover {
  background: transparent;
  margin: 0;
}
.nav-tabs-custom > .nav-tabs > li > a:hover {
  color: #999;
}
.nav-tabs-custom > .nav-tabs > li:not(.active) > a:hover,
.nav-tabs-custom > .nav-tabs > li:not(.active) > a:focus,
.nav-tabs-custom > .nav-tabs > li:not(.active) > a:active {
  border-color: transparent;
}
.nav-tabs-custom > .nav-tabs > li.active {
  border-top-color: #3c8dbc;
}
.nav-tabs-custom > .nav-tabs > li.active > a,
.nav-tabs-custom > .nav-tabs > li.active:hover > a {
  background-color: #fff;
  color: #666;
}
.nav-tabs-custom > .nav-tabs > li.active > a {
  border-top-color: transparent;
  border-left-color: #d7d7d7;
  border-right-color: #d7d7d7;
}
.nav-tabs-custom > .nav-tabs > li:first-of-type {
  margin-left: 0;
}
.nav-tabs-custom > .nav-tabs > li:first-of-type.active > a {
  border-left-color: transparent;
}
.nav-tabs-custom > .nav-tabs.pull-right {
  float: none !important;
}
.nav-tabs-custom > .nav-tabs.pull-right > li {
  float: right;
}
.nav-tabs-custom > .nav-tabs.pull-right > li:first-of-type {
  margin-right: 0;
}
.nav-tabs-custom > .nav-tabs.pull-right > li:first-of-type > a {
  border-left-width: 1px;
}
.nav-tabs-custom > .nav-tabs.pull-right > li:first-of-type.active > a {
  border-left-color: #d7d7d7;
  border-right-color: transparent;
}
.nav-tabs-custom > .nav-tabs > li.header {
  line-height: 35px;
  padding: 0 10px;
  font-size: 20px;
  color: #666;
}
.nav-tabs-custom > .nav-tabs > li.header > .fa,
.nav-tabs-custom > .nav-tabs > li.header > .glyphicon,
.nav-tabs-custom > .nav-tabs > li.header > .ion {
  margin-right: 5px;
}
.nav-tabs-custom > .tab-content {
  background: #fff;
  padding: 0;
  border-bottom-right-radius: 3px;
  border-bottom-left-radius: 3px;
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}

.nav-tabs-custom > .tab-content > .chart-wrapper {
  background: #fff;
  border: none;
  margin: 0;
}


.nav-tabs-custom > .tab-content > .active {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}

.nav-tabs-custom .dropdown.open > a:active,
.nav-tabs-custom .dropdown.open > a:focus {
  background: transparent;
  color: #999;
}


@media (max-width: 767px) {
  .value-box {
    text-align: center;
    margin-right: 8px;
  }
  .value-box .icon {
    display: none;
  }
}

/* Fixed position sidebar */

.section.sidebar {
  position: fixed;
  top: 51px; /* overridden by theme */
  left: 0;
  bottom: 0;
  border-right: 1px solid #e2e2e2;
  background-color: white; /* overridden by theme */
  padding-left: 10px;
  padding-right: 10px;
  visibility: hidden;
  overflow: auto;
}

.section.sidebar form p:first-child {
  margin-top: 10px;
}

/* Embedded source code */

#flexdashboard-source-code {
  display: none;
}

.featherlight-content #flexdashboard-source-code {
  display: inline-block;
}

.featherlight-content {
  width: 80%;
  max-width: 800px;
  padding: 0 !important;
  border-bottom: none !important;
}

.featherlight:last-of-type {
  background: rgba(0, 0, 0, 0.7);
}

.featherlight-inner {
  width: 100%;
}

.featherlight-content pre {
  margin: 0;
  border: 0;
  background: #fff;
  font-size: 12px;
}

.unselectable {
  -ms-user-select: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: -moz-none;
  -o-user-select: none;
  user-select: none;
}

#flexdashboard-source-code code {
  -ms-user-select: text;
  -webkit-user-select: text;
  -khtml-user-select: text;
  -moz-user-select: text;
  -o-user-select: text;
  user-select: text;
}

/* DataTables Tweaks */

.dataTables_filter input[type="search"] {
  -webkit-appearance: searchfield;
  outline: none;
}

.dataTables_wrapper.no-footer
.dataTables_info {
  padding-top: 0;
}


table.dataTable thead th {
  border-bottom: 1px solid #d7d7d7;
}

.dataTables_wrapper.no-footer .dataTables_scrollBody {
  border-bottom: 1px solid #d7d7d7;
}

/* Mobile phone only CSS */

.desktop-layout div.section.mobile {
  display: none;
}

.mobile-layout div.section.no-mobile {
  display: none;
}

.mobile-figure {
  display: none;
}



body {
  padding-top: 60px;
}

.section.sidebar {
  top: 51px;
  background-color: rgba(39, 128, 227, 0.1);
}

.value-box {
  color: #f9f9f9;
}

.bg-primary {
  background-color: rgba(39, 128, 227, 0.7);
}

.storyboard-nav .sbframelist ul li.active {
  background-color: rgba(39, 128, 227, 0.7);
}

.nav-tabs-custom > .nav-tabs > li.active {
  border-top-color: rgba(39, 128, 227, 0.7);
}

.bg-info {
  background-color: rgba(153, 84, 187, 0.7);
}

.bg-warning {
  background-color: rgba(255, 117, 24, 0.7);
}

.bg-danger {
  background-color: rgba(255, 0, 57, 0.7);
}

.bg-success {
  background-color: rgba(63, 182, 24, 0.7);
}

.chart-title {
  font-weight: 500;
}

.nav-tabs-custom > .nav-tabs > li > a,
.nav-tabs-custom > .nav-tabs > li > a:active {
  font-weight: 500;
}

</style>



</head>

<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">

<button id="navbar-button" type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>

<span class="navbar-logo pull-left">
  
</span>
<span class="navbar-brand">
  Ita Lomb
  <span class="navbar-author">
      21 ottobre 2022
      </span>
</span>

</div>
<div id="navbar" class="navbar-collapse collapse">
<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right">
</ul>
</div><!--/.nav-collapse-->
</div><!--/.container-->
</div><!--/.navbar-->

<img class="mobile-figure" data-mobile-figure-id=fig1 src="index_files/figure-html/unnamed-chunk-1-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig2 src="index_files/figure-html/unnamed-chunk-14-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig3 src="index_files/figure-html/unnamed-chunk-18-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig4 src="index_files/figure-html/unnamed-chunk-19-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig5 src="index_files/figure-html/unnamed-chunk-20-1.mb.png" />
<script type="text/javascript">


var FlexDashboard = (function () {

  // initialize options
  var _options = {};

  var FlexDashboard = function() {

    // default options
    _options = $.extend(_options, {
      theme: "cosmo",
      fillPage: false,
      orientation: 'columns',
      storyboard: false,
      defaultFigWidth: 576,
      defaultFigHeight: 461,
      defaultFigWidthMobile: 360,
      defaultFigHeightMobile: 461,
      isMobile: false,
      isPortrait: false,
      resize_reload: true
    });
  };

  function init(options) {

    // extend default options
    $.extend(true, _options, options);

    // add ids to sections that don't have them (pandoc won't assign ids
    // to e.g. sections with titles consisting of only chinese characters)
    var nextId = 1;
    $('.level1:not([id]),.level2:not([id]),.level3:not([id])').each(function() {
      $(this).attr('id', 'dashboard-' + nextId++);
    });

    // find navbar items
    var navbarItems = $('#flexdashboard-navbar');
    if (navbarItems.length)
      navbarItems = JSON.parse(navbarItems.html());
    addNavbarItems(navbarItems);

    // find the main dashboard container
    var dashboardContainer = $('#dashboard-container');

    // resolve mobile classes
    resolveMobileClasses(dashboardContainer);

    // one time global initialization for components
    componentsInit(dashboardContainer);

    // look for a global sidebar
    var globalSidebar = dashboardContainer.find(".section.level1.sidebar");
    if (globalSidebar.length > 0) {

      // global layout for fullscreen displays
      if (!isMobilePhone()) {

         // hoist it up to the top level
         globalSidebar.insertBefore(dashboardContainer);

         // lay it out (set width/positions)
         layoutSidebar(globalSidebar, dashboardContainer);

      // tuck sidebar into first page for mobile phones
      } else {

        // convert it into a level3 section
        globalSidebar.removeClass('sidebar');
        globalSidebar.removeClass('level1');
        globalSidebar.addClass('level3');
        var h1 = globalSidebar.children('h1');
        var h3 = $('<h3></h3>');
        h3.append(h1.contents());
        h3.insertBefore(h1);
        h1.detach();

        // move it into the first page
        var page = dashboardContainer.find('.section.level1').first();
        if (page.length > 0)
          page.prepend(globalSidebar);
      }
    }

    // look for pages to layout
    var pages = $('div.section.level1');
    if (pages.length > 0) {

        // find the navbar and collapse on clicked
        var navbar = $('#navbar');
        navbar.on("click", "a[data-toggle!=dropdown]", null, function () {
           navbar.collapse('hide');
        });

        // envelop the dashboard container in a tab content div
        dashboardContainer.wrapInner('<div class="tab-content"></div>');

        pages.each(function(index) {

          // lay it out
          layoutDashboardPage($(this));

          // add it to the navbar
          addToNavbar($(this), index === 0);

        });

    } else {

      // remove the navbar and navbar button if we don't
      // have any navbuttons
      if (navbarItems.length === 0) {
        $('#navbar').remove();
        $('#navbar-button').remove();
      }

      // add the storyboard class if requested
      if (_options.storyboard)
        dashboardContainer.addClass('storyboard');

      // layout the entire page
      layoutDashboardPage(dashboardContainer);
    }

    // if we are in shiny we need to trigger a window resize event to
    // force correct layout of shiny-bound-output elements
    if (isShinyDoc())
      $(window).trigger('resize');

    // make main components visible
    $('.section.sidebar').css('visibility', 'visible');
    dashboardContainer.css('visibility', 'visible');

    // handle location hash
    handleLocationHash();

    // intialize prism highlighting
    initPrismHighlighting();

    // record mobile and orientation state then register a handler
    // to refresh if resize_reload is set to true and it changes
    _options.isMobile = isMobilePhone();
    _options.isPortrait = isPortrait();
    if (_options.resize_reload) {
      $(window).on('resize', function() {
        if (_options.isMobile !== isMobilePhone() ||
            _options.isPortrait !== isPortrait()) {
          window.location.reload();
        }
      });
    } else {
      // if in desktop mode and resizing to mobile, make sure the heights are 100%
      // This enforces what `fillpage.css` does for "wider" pages.
      // Since we are not reloading once the page becomes small, we need to force the height to 100%
      // This is a new situation introduced when `_options.resize_reload` is `false`
      if (! _options.isMobile) {
        // only add if `fillpage.css` was added in the first place
        if (_options.fillPage) {
          // fillpage.css
          $("html,body,#dashboard").css("height", "100%");
        }
      }
    }
    // trigger layoutcomplete event
    dashboardContainer.trigger('flexdashboard:layoutcomplete');
  }

  function resolveMobileClasses(dashboardContainer) {
     // add top level layout class
    dashboardContainer.addClass(isMobilePhone() ? 'mobile-layout' :
                                                  'desktop-layout');

    // look for .mobile sections and add .no-mobile to their peers
    var mobileSections = $('.section.mobile');
    mobileSections.each(function() {
       var id = $(this).attr('id');
       var nomobileId = id.replace(/-\d+$/, '');
       $('#' + nomobileId).addClass('no-mobile');
    });
  }

  function addNavbarItems(navbarItems) {

    var navbarLeft = $('ul.navbar-left');
    var navbarRight = $('ul.navbar-right');

    for (var i = 0; i<navbarItems.length; i++) {

      // get the item
      var item = navbarItems[i];

      // determine the container
      var container = null;
      if (item.align === "left")
        container = navbarLeft;
      else
        container = navbarRight;

      // navbar menu if we have multiple items
      if (item.items) {
        var menu = navbarMenu(null, item.icon, item.title, container);
        for (var j = 0; j<item.items.length; j++) {
          var subItem = item.items[j];
          var li = $('<li></li>');
          li.append(navbarLink(subItem.icon, subItem.title, subItem.href, subItem.target));
          menu.append(li);
        }
      } else {
        var li = $('<li></li>');
        li.append(navbarLink(item.icon, item.title, item.href, item.target));
        container.append(li);
      }
    }
  }

  // create or get a reference to an existing dropdown menu
  function navbarMenu(id, icon, title, container) {
    var existingMenu = [];
    if (id)
      existingMenu = container.children('#' + id);
    if (existingMenu.length > 0) {
      return existingMenu.children('ul');
    } else {
      var li = $('<li></li>');
      if (id)
        li.attr('id', id);
      li.addClass('dropdown');
      // auto add "Share" title on mobile if necessary
      if (!title && icon && (icon === "fa-share-alt") && isMobilePhone())
        title = "Share";
      if (title) {
        title = title + ' <span class="caret"></span>';
      }
      var a = navbarLink(icon, title, "#");
      a.addClass('dropdown-toggle');
      a.attr('data-toggle', 'dropdown');
      a.attr('role', 'button');
      a.attr('aria-expanded', 'false');
      li.append(a);
      var ul = $('<ul class="dropdown-menu"></ul>');
      ul.attr('role', 'menu');
      li.append(ul);
      container.append(li);
      return ul;
    }
  }

  function addToNavbar(page, active) {

    // capture the id and data-icon attribute (if any)
    var id = page.attr('id');
    var icon = page.attr('data-icon');
    var navmenu = page.attr('data-navmenu');

    // get hidden state (transfer this to navbar)
    var hidden = page.hasClass('hidden');
    page.removeClass('hidden');

    // sanitize the id for use with bootstrap tabs
    id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
    page.attr('id', id);

    // get the wrapper
    var wrapper = page.closest('.dashboard-page-wrapper');

    // move the id to the wrapper
    page.removeAttr('id');
    wrapper.attr('id', id);

    // add the tab-pane class to the wrapper
    wrapper.addClass('tab-pane');
    if (active)
      wrapper.addClass('active');

    // get a reference to the h1, discover its inner contens, then detach it
    var h1 = wrapper.find('h1').first();
    var title = h1.contents();
    h1.detach();

    // create a navbar item
    var li = $('<li></li>');
    var a = navbarLink(icon, title, '#' + id);
    a.attr('data-toggle', 'tab');
    li.append(a);

    // add it to the navbar (or navbar menu if specified)
    var container = $('ul.navbar-left');
    if (navmenu) {
      var menuId = navmenu.replace(/\s+/g, '');
      var menu = navbarMenu(menuId, null, navmenu, container);
      menu.append(li);
    } else {
      container.append(li);
    }

    // hide it if requested
    if (hidden)
      li.addClass('hidden');
  }

  function navbarLink(icon, title, href, target) {

    var a = $('<a></a>');
    if (icon) {

      // get the name of the icon set and icon
      var dashPos = icon.indexOf("-");
      var iconSet = null;
      var iconSplit = icon.split(" ");
      if (iconSplit.length > 1) {
        iconSet = iconSplit[0];
        icon = iconSplit.slice(1).join(" ");
      } else {
        iconSet = icon.substring(0, dashPos);
      }
      var iconName = icon.substring(dashPos + 1);

      // create the icon
      var iconElement = $('<span class="' + iconSet + ' ' + icon + '"></span>');
      if (title)
        iconElement.css('margin-right', '7px');
      a.append(iconElement);
      // if href is null see if we can auto-generate based on icon (e.g. social)
      if (!href)
        maybeGenerateLinkFromIcon(iconName, a);
    }
    if (title)
      a.append(title);

    // add the href.
    if (href) {
      if (href === "source_embed") {
        a.attr('href', '#');
        a.attr('data-featherlight', "#flexdashboard-source-code");
        a.featherlight({
            beforeOpen: function(event){
              $('body').addClass('unselectable');
            },
            afterClose: function(event){
              $('body').removeClass('unselectable');
            }
        });
      } else {
        a.attr('href', href);
      }
    }

    // add the arget
    if (target)
      a.attr('target', target);

    return a;
  }

  // auto generate a link from an icon name (e.g. twitter) when possible
  function maybeGenerateLinkFromIcon(iconName, a) {

     var serviceLinks = {
      "twitter": "https://twitter.com/share?text=" + encodeURIComponent(document.title) + "&url="+encodeURIComponent(location.href),
      "facebook": "https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(location.href),
      "google-plus": "https://plus.google.com/share?url="+encodeURIComponent(location.href),
      "linkedin": "https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(location.href) + "&title=" + encodeURIComponent(document.title),
      "pinterest": "https://pinterest.com/pin/create/link/?url="+encodeURIComponent(location.href) + "&description=" + encodeURIComponent(document.title)
    };

    var makeSocialLink = function(a, href) {
      a.attr('href', '#');
      a.on('click', function(e) {
        e.preventDefault();
        window.open(href);
      });
    };

    $.each(serviceLinks, function(key, value) {
      if (iconName.indexOf(key) !== -1)
        makeSocialLink(a, value);
    });
  }

  // layout a dashboard page
  function layoutDashboardPage(page) {

    // use a page wrapper so that free form content above the
    // dashboard appears at the top rather than the side (as it
    // would without the wrapper in a column orientation)
    var wrapper = $('<div class="dashboard-page-wrapper"></div>');
    page.wrap(wrapper);

    // if there are no level2 or level3 headers synthesize a level3
    // header to contain the (e.g. frame it, scroll container, etc.)
    var headers = page.find('h2,h3');
    if (headers.length === 0)
      page.wrapInner('<div class="section level3"></div>');

    // hoist up any content before level 2 or level 3 headers
    var children = page.children();
    children.each(function(index) {
      if ($(this).hasClass('level2') || $(this).hasClass('level3'))
        return false;
      $(this).insertBefore(page);
    });

    // determine orientation and fillPage behavior for distinct media
    var orientation, fillPage, storyboard;

    // media: mobile phone
    if (isMobilePhone()) {

      // if there is a sidebar we need to ensure it's content
      // is properly framed as an h3
      var sidebar = page.find('.section.sidebar');
      sidebar.removeClass('sidebar');
      sidebar.wrapInner('<div class="section level3"></div>');
      var h2 = sidebar.find('h2');
      var h3 = $('<h3></h3>');
      h3.append(h2.contents());
      h3.insertBefore(h2);
      h2.detach();

      // wipeout h2 elements then enclose them in a single h2
      var level2 = page.find('div.section.level2');
      level2.each(function() {
        level2.children('h2').remove();
        level2.children().unwrap();
      });
      page.wrapInner('<div class="section level2"></div>');

      // substitute mobile images
      if (isPortrait()) {
        var mobileFigures = $('img.mobile-figure');
        mobileFigures.each(function() {
          // get the src (might be base64 encoded)
          var src = $(this).attr('src');

          // find it's peer
          var id = $(this).attr('data-mobile-figure-id');
          var img = $('img[data-figure-id=' + id + "]");
          img.attr('src', src)
             .attr('width', _options.defaultFigWidthMobile)
             .attr('height', _options.defaultFigHeightMobile);
        });
      }

      // hoist storyboard commentary into it's own section
      if (page.hasClass('storyboard')) {
        var commentaryHR = page.find('div.section.level3 hr');
        commentaryHR.each(function() {
          var commentary = $(this).nextAll().detach();
          var commentarySection = $('<div class="section level3"></div>');
          commentarySection.append(commentary);
          commentarySection.insertAfter($(this).closest('div.section.level3'));
          $(this).remove();
        });
      }

      // force a non full screen layout by columns
      orientation = _options.orientation = 'columns';
      fillPage = _options.fillPage = false;
      storyboard = _options.storyboard = false;

    // media: desktop
    } else {

      // determine orientation
      orientation = page.attr('data-orientation');
      if (orientation !== 'rows' && orientation != 'columns')
        orientation = _options.orientation;

      // determine storyboard mode
      storyboard = page.hasClass('storyboard');

      // fillPage based on options (force for storyboard)
      fillPage = _options.fillPage || storyboard;

      // handle sidebar
      var sidebar = page.find('.section.level2.sidebar');
      if (sidebar.length > 0)
        layoutSidebar(sidebar, page);
    }

    // give it and it's parent divs height: 100% if we are in fillPage mode
    if (fillPage) {
      page.addClass('vertical-layout-fill');
      page.css('height', '100%');
      page.parents('div').css('height', '100%');
    } else {
      page.addClass('vertical-layout-scroll');
    }

    // perform the layout
    if (storyboard)
      layoutPageAsStoryboard(page);
    else if (orientation === 'rows')
      layoutPageByRows(page, fillPage);
    else if (orientation === 'columns')
      layoutPageByColumns(page, fillPage);
  }

  function layoutSidebar(sidebar, content) {

    // get it out of the header hierarchy
    sidebar = sidebar.first();
    if (sidebar.hasClass('level1')) {
      sidebar.removeClass('level1');
      sidebar.children('h1').remove();
    } else if (sidebar.hasClass('level2')) {
      sidebar.removeClass('level2');
      sidebar.children('h2').remove();
    }

    // determine width
    var sidebarWidth = isTablet() ? 220 : 250;
    var dataWidth = parseInt(sidebar.attr('data-width'));
    if (dataWidth)
      sidebarWidth = dataWidth;

    // set the width and shift the page right to accomodate the sidebar
    sidebar.css('width', sidebarWidth + 'px');
    content.css('padding-left', sidebarWidth + 'px');

    // wrap it's contents in a form
    sidebar.wrapInner($('<form></form>'));
  }

  function layoutPageAsStoryboard(page) {

    // create storyboard navigation
    var nav = $('<div class="storyboard-nav"></div>');

    // add navigation buttons
    var prev = $('<button class="sbprev"><i class="fa fa-angle-left"></i></button>');
    nav.append(prev);
    var next= $('<button class="sbnext"><i class="fa fa-angle-right"></i></button>');
    nav.append(next);

    // add navigation frame
    var frameList = $('<div class="sbframelist"></div>');
    nav.append(frameList);
    var ul = $('<ul></ul>');
    frameList.append(ul);

     // find all the level3 sections (those are the storyboard frames)
    var frames = page.find('div.section.level3');
    frames.each(function() {

      // mark it
      $(this).addClass('sbframe');

      // divide it into chart content and (optional) commentary
      $(this).addClass('dashboard-column-orientation');

      // stuff the chart into it's own div w/ flex
      $(this).wrapInner('<div class="sbframe-component"></div>');
      setFlex($(this), 1);
      var frame = $(this).children('.sbframe-component');

      // extract the title from the h3
      var li = $('<li></li>');
      var h3 = frame.children('h3');
      li.append(h3.contents());
      h3.detach();
      ul.append(li);

      // extract commentary
      var hr = frame.children('hr');
      if (hr.length) {
        var commentary = hr.nextAll().detach();
        hr.remove();
        var commentaryFrame = $('<div class="sbframe-commentary"></div>');
        commentaryFrame.addClass('flowing-content-shim');
        commentaryFrame.addClass('flowing-content-container');
        commentaryFrame.append(commentary);
        $(this).append(commentaryFrame);

        // look for a data-commentary-width attribute
        var commentaryWidth = $(this).attr('data-commentary-width');
        if (commentaryWidth)
          commentaryFrame.css('width', commentaryWidth + 'px');
      }

      // layout the chart (force flex)
      var result = layoutChart(frame, true);

      // ice the notes if there are none
      if (!result.notes)
        frame.find('.chart-notes').remove();

      // set flex on chart
      setFlex(frame, 1);
    });

    // create a div to hold all the frames
    var frameContent = $('<div class="sbframe-content"></div>');
    frameContent.addClass('dashboard-row-orientation');
    frameContent.append(frames.detach());

    // row orientation to stack nav and frame content
    page.addClass('dashboard-row-orientation');
    page.append(nav);
    page.append(frameContent);
    setFlex(frameContent, 1);

    // initialize sly
    var sly = new Sly(frameList, {
    		horizontal: true,
    		itemNav: 'basic',
    		smart: true,
    		activateOn: 'click',
    		startAt: 0,
    		scrollBy: 1,
    		activatePageOn: 'click',
    		speed: 200,
    		moveBy: 600,
    		dragHandle: true,
    		dynamicHandle: true,
    		clickBar: true,
    		keyboardNavBy: 'items',
    		next: next,
    		prev: prev
    	}).init();

    // make first frame active
    frames.removeClass('active');
    frames.first().addClass('active');

    // subscribe to frame changed events
    sly.on('active', function (eventName, itemIndex) {
      frames.removeClass('active');
      frames.eq(itemIndex).addClass('active')
                          .trigger('shown');
    });
  }

  function layoutPageByRows(page, fillPage) {

    // row orientation
    page.addClass('dashboard-row-orientation');

    // find all the level2 sections (those are the rows)
    var rows = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (rows.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      rows = page.find('div.section.level2');
    }

    rows.each(function () {

      // flags
      var haveNotes = false;
      var haveFlexHeight = true;

      // remove the h2
      $(this).children('h2').remove();

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // give it row layout semantics if it's not a tabset
      if (!isTabset)
        $(this).addClass('dashboard-row');

      // find all of the level 3 subheads
      var columns = $(this).find('div.section.level3');

      // determine figureSizes sizes
      var figureSizes = chartFigureSizes(columns);

      // fixup the columns
      columns.each(function(index) {

        // layout the chart (force flex if we are in a tabset)
        var result = layoutChart($(this), isTabset);

        // update flexHeight state
        if (!result.flex)
          haveFlexHeight = false;

        // update state
        if (result.notes)
          haveNotes = true;

        // set the column flex based on the figure width
        // (value boxes will just get the default figure width)
        var chartWidth = figureSizes[index].width;
        setFlex($(this), chartWidth + ' ' + chartWidth + ' 0px');

      });

      // remove empty chart note divs
      if (isTabset)
        $(this).find('.chart-notes').filter(function() {
            return $(this).html() === "&nbsp;";
        }).remove();
      if (!haveNotes)
        $(this).find('.chart-notes').remove();

       // make it a flexbox row
      if (haveFlexHeight)
        $(this).addClass('dashboard-row-flex');

      // now we can set the height on all the wrappers (based on maximum
      // figure height + room for title and notes, or data-height on the
      // container if specified). However, don't do this if there is
      // no flex on any of the constituent columns
      var flexHeight = null;
      var dataHeight = parseInt($(this).attr('data-height'));
      if (dataHeight)
        flexHeight = adjustedHeight(dataHeight, columns.first());
      else if (haveFlexHeight)
        flexHeight = maxChartHeight(figureSizes, columns);
      if (flexHeight) {
        if (fillPage)
          setFlex($(this), flexHeight + ' ' + flexHeight + ' 0px');
        else {
          $(this).css('height', flexHeight + 'px');
          setFlex($(this), '0 0 ' + flexHeight + 'px');
        }
      }

    });
  }

  function layoutPageByColumns(page, fillPage) {

    // column orientation
    page.addClass('dashboard-column-orientation');

    // find all the level2 sections (those are the columns)
    var columns = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (columns.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      columns = page.find('div.section.level2');
    }

    // layout each column
    columns.each(function (index) {

      // remove the h2
      $(this).children('h2').remove();

      // make it a flexbox column
      $(this).addClass('dashboard-column');

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // find all the h3 elements
      var rows = $(this).find('div.section.level3');

      // get the figure sizes for the rows
      var figureSizes = chartFigureSizes(rows);

      // column flex is the max row width (or data-width if specified)
      var flexWidth;
      var dataWidth = parseInt($(this).attr('data-width'));
      if (dataWidth)
        flexWidth = dataWidth;
      else
        flexWidth = maxChartWidth(figureSizes);
      setFlex($(this), flexWidth + ' ' + flexWidth + ' 0px');

      // layout each chart
      rows.each(function(index) {

        // perform the layout
        var result = layoutChart($(this), false);

        // ice the notes if there are none
        if (!result.notes)
          $(this).find('.chart-notes').remove();

        // set flex height based on figHeight, then adjust
        if (result.flex) {
          var chartHeight = figureSizes[index].height;
          chartHeight = adjustedHeight(chartHeight, $(this));
          if (fillPage)
            setFlex($(this), chartHeight + ' ' + chartHeight + ' 0px');
          else {
            $(this).css('height', chartHeight + 'px');
            setFlex($(this), chartHeight + ' ' + chartHeight + ' ' + chartHeight + 'px');
          }
        }
      });
    });
  }

  function chartFigureSizes(charts) {

    // sizes
    var figureSizes = new Array(charts.length);

    // check each chart
    charts.each(function(index) {

      // start with default
      figureSizes[index] = {
        width: _options.defaultFigWidth,
        height: _options.defaultFigHeight
      };

      // look for data-height or data-width then knit options
      var dataWidth = parseInt($(this).attr('data-width'));
      var dataHeight = parseInt($(this).attr('data-height'));
      var knitrOptions = $(this).find('.knitr-options:first');
      var knitrWidth, knitrHeight;
      if (knitrOptions) {
        knitrWidth = parseInt(knitrOptions.attr('data-fig-width'));
        knitrHeight =  parseInt(knitrOptions.attr('data-fig-height'));
      }

      // width
      if (dataWidth)
        figureSizes[index].width = dataWidth;
      else if (knitrWidth)
        figureSizes[index].width = knitrWidth;

      // height
      if (dataHeight)
        figureSizes[index].height = dataHeight;
      else if (knitrHeight)
        figureSizes[index].height = knitrHeight;
    });

    // return sizes
    return figureSizes;
  }

  function maxChartHeight(figureSizes, charts) {

    // first compute the maximum height
    var maxHeight = _options.defaultFigHeight;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].height > maxHeight)
        maxHeight = figureSizes[i].height;

    // now add offests for chart title and chart notes
    if (charts.length)
      maxHeight = adjustedHeight(maxHeight, charts.first());

    return maxHeight;
  }

  function adjustedHeight(height, chart) {
    if (chart.length > 0) {
      var chartTitle = chart.find('.chart-title');
      if (chartTitle.length)
        height += chartTitle.first().outerHeight();
      var chartNotes = chart.find('.chart-notes');
      if (chartNotes.length)
        height += chartNotes.first().outerHeight();
    }
    return height;
  }

  function maxChartWidth(figureSizes) {
    var maxWidth = _options.defaultFigWidth;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].width > maxWidth)
        maxWidth = figureSizes[i].width;
    return maxWidth;
  }

  // layout a chart
  function layoutChart(chart, forceFlex) {

    // state to return
    var result = {
      notes: false,
      flex: false
    };

    // extract the title
    var title = extractTitle(chart);

    // find components that apply to this container
    var components = componentsFind(chart);

    // if it's a custom component then call it and return
    var customComponents = componentsCustom(components);
    if (customComponents.length) {
      componentsLayout(customComponents, title, chart);
      result.notes = false;
      result.flex = forceFlex || componentsFlex(customComponents);
      return result;
    }

    // put all the content in a chart wrapper div
    chart.addClass('chart-wrapper');
    chart.wrapInner('<div class="chart-stage"></div>');
    var chartContent = chart.children('.chart-stage');

    // flex the content if appropriate
    result.flex = forceFlex || componentsFlex(components);
    if (result.flex) {
      // add flex classes
      chart.addClass('chart-wrapper-flex');
      chartContent.addClass('chart-stage-flex');

      // additional shim to break out of flexbox sizing
      chartContent.wrapInner('<div class="chart-shim"></div>');
      chartContent = chartContent.children('.chart-shim');
    }

    // set custom data-padding attribute
    var pad = chart.attr('data-padding');
    if (pad) {
      if (pad === "0")
        chart.addClass('no-padding');
      else {
        pad = pad + 'px';
        chartContent.css('left', pad)
                    .css('top', pad)
                    .css('right', pad)
                    .css('bottom', pad)
      }
    }

    // call compoents
    componentsLayout(components, title, chartContent);

    // also activate components on shiny output
    findShinyOutput(chartContent).on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {

          // see if we opted out of flex based on our output (for shiny
          // we can't tell what type of output we have until after the
          // value is bound)
          var components = componentsFind(element);
          var flex = forceFlex || componentsFlex(components);
          if (!flex) {
            chart.css('height', "");
            setFlex(chart, "");
            chart.removeClass('chart-wrapper-flex');
            chartContent.removeClass('chart-stage-flex');
            chartContent.children().unwrap();
          }

          // perform layout
          componentsLayout(components, title, element.parent());
        }, 10);
      });

    // add the title
    var chartTitle = $('<div class="chart-title"></div>');
    chartTitle.append(title);
    chart.prepend(chartTitle);

    // add the notes section
    var chartNotes = $('<div class="chart-notes"></div>');
    chartNotes.html('&nbsp;');
    chart.append(chartNotes);

    // attempt to extract notes if we have a component
    if (components.length)
      result.notes = extractChartNotes(chartContent, chartNotes);

    // return result
    return result;
  }

  // build a tabset from a section div with the .tabset class
  function layoutTabset(tabset) {

    // check for fade option
    var fade = tabset.hasClass("tabset-fade");
    var navClass = "nav-tabs";

    // determine the heading level of the tabset and tabs
    var match = tabset.attr('class').match(/level(\d) /);
    if (match === null)
      return;
    var tabsetLevel = Number(match[1]);
    var tabLevel = tabsetLevel + 1;

    // find all subheadings immediately below
    var tabs = tabset.find("div.section.level" + tabLevel);
    if (!tabs.length)
      return;

    // create tablist and tab-content elements
    var tabList = $('<ul class="nav ' + navClass + '" role="tablist"></ul>');
    $(tabs[0]).before(tabList);
    var tabContent = $('<div class="tab-content"></div>');
    $(tabs[0]).before(tabContent);

    // build the tabset
    tabs.each(function(i) {

      // get the tab div
      var tab = $(tabs[i]);

      // get the id then sanitize it for use with bootstrap tabs
      var id = tab.attr('id');

      // sanitize the id for use with bootstrap tabs
      id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
      tab.attr('id', id);

      // get the heading element within it and grab it's text
      var heading = tab.find('h' + tabLevel + ':first');
      var headingDom = heading.contents();

      // build and append the tab list item
      var a = $('<a role="tab" data-toggle="tab"></a>');
      a.append(headingDom);
      a.attr('href', '#' + id);
      a.attr('aria-controls', id);
      var li = $('<li role="presentation"></li>');
      li.append(a);
      if (i === 0)
        li.attr('class', 'active');
      tabList.append(li);

      // set it's attributes
      tab.attr('role', 'tabpanel');
      tab.addClass('tab-pane');
      tab.addClass('tabbed-pane');
      tab.addClass('no-title');
      if (fade)
        tab.addClass('fade');
      if (i === 0) {
        tab.addClass('active');
        if (fade)
          tab.addClass('in');
      }

      // move it into the tab content div
      tab.detach().appendTo(tabContent);
    });

    // add nav-tabs-custom
    tabset.addClass('nav-tabs-custom');

    // internal layout is dashboard-column with tab-content flexing
    tabset.addClass('dashboard-column');
    setFlex(tabContent, 1);
  }

  // one time global initialization for components
  function componentsInit(dashboardContainer) {
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.init)
        component.init(dashboardContainer);
    }
  }

  // find components that apply within a container
  function componentsFind(container) {

    // look for components
    var components = [];
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.find(container).length)
        components.push(component);
    }

    // if there were none then use a special flowing content component
    // that just adds a scrollbar in fillPage mode
    if (components.length == 0) {
      components.push({
        find: function(container) {
          return container;
        },

        flex: function(fillPage) {
          return fillPage;
        },

        layout: function(title, container, element, fillPage) {
          if (fillPage) {
            container.addClass('flowing-content-shim');
            container.addClass('flowing-content-container');
          }
        }
      });
    }

    return components;
  }

  // if there is a custom component then pick it out
  function componentsCustom(components) {
    var customComponent = [];
    for (var i=0; i<components.length; i++)
      if (components[i].type === "custom") {
        customComponent.push(components[i]);
        break;
      }
    return customComponent;
  }

  // query all components for flex
  function componentsFlex(components) {

    // no components at all means no flex
    if (components.length === 0)
      return false;

    // otherwise query components (assume true unless we see false)
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++)
      if (components[i].flex && !components[i].flex(_options.fillPage))
        return false;
    return true;
  }

  // layout all components
  function componentsLayout(components, title, container) {
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++) {
      var element = components[i].find(container);
      if (components[i].layout) {
        // call layout (don't call other components if it returns false)
        var result = components[i].layout(title, container, element, _options.fillPage);
        if (result === false)
          return;
      }
    }
  }

  // get a reference to the h3, discover it's inner html, and remove it
  function extractTitle(container) {
    var h3 = container.children('h3').first();
    var title = '';
    if (!container.hasClass('no-title'))
      title = h3.contents();
    h3.detach();
    return title;
  }

  // extract chart notes
  function extractChartNotes(chartContent, chartNotes) {
    // look for a terminating blockquote or image caption
    var blockquote = chartContent.children('blockquote:last-child');
    var caption = chartContent.children('div.image-container')
                              .children('p.caption');
    if (blockquote.length) {
      chartNotes.empty().append(blockquote.children('p:first-child').contents());
      blockquote.remove();
      return true;
    } else if (caption.length) {
      chartNotes.empty().append(caption.contents());
      caption.remove();
      return true;
    } else {
      return false;
    }
  }

  function findShinyOutput(chartContent) {
    return chartContent.find('.shiny-text-output, .shiny-html-output');
  }

  // safely detect rendering on a mobile phone
  function isMobilePhone() {
    try
    {
      return ! window.matchMedia("only screen and (min-width: 768px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  function isFillPage() {
    return _options.fillPage;
  }

  // detect portrait mode
  function isPortrait() {
    return ($(window).width() < $(window).height());
  }

  // safely detect rendering on a tablet
  function isTablet() {
    try
    {
      return window.matchMedia("only screen and (min-width: 769px) and (max-width: 992px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  // test whether this is a shiny doc
  function isShinyDoc() {
    return (typeof(window.Shiny) !== "undefined" && !!window.Shiny.outputBindings);
  }

  // set flex using vendor specific prefixes
  function setFlex(el, flex) {
    el.css('-webkit-box-flex', flex)
      .css('-webkit-flex', flex)
      .css('-ms-flex', flex)
      .css('flex', flex);
  }

  // support bookmarking of pages
  function handleLocationHash() {

    // restore tab/page from bookmark
    var hash = window.decodeURIComponent(window.location.hash);
    if (hash.length > 0)
      $('ul.nav a[href="' + hash + '"]').tab('show');
    FlexDashboardUtils.manageActiveNavbarMenu();

    // navigate to a tab when the history changes
    window.addEventListener("popstate", function(e) {
      var hash = window.decodeURIComponent(window.location.hash);
      var activeTab = $('ul.nav a[href="' + hash + '"]');
      if (activeTab.length) {
        activeTab.tab('show');
      } else {
        $('ul.nav a:first').tab('show');
      }
      FlexDashboardUtils.manageActiveNavbarMenu();
    });

    // add a hash to the URL when the user clicks on a tab/page
    $('.navbar-nav a[data-toggle="tab"]').on('click', function(e) {
      var baseUrl = FlexDashboardUtils.urlWithoutHash(window.location.href);
      var hash = FlexDashboardUtils.urlHash($(this).attr('href'));
      var href = baseUrl + hash;
      FlexDashboardUtils.setLocation(href);
    });

    // handle clicks of other links that should activate pages
    var navPages = $('ul.navbar-nav li a[data-toggle=tab]');
    navPages.each(function() {
      var href =  $(this).attr('href');
      var links = $('a[href="' + href + '"][data-toggle!=tab]');
      links.each(function() {
        $(this).on('click', function(e) {
          window.FlexDashboardUtils.showPage(href);
        });
      });
    });
  }

  // tweak Prism highlighting
  function initPrismHighlighting() {

    if (window.Prism) {
      Prism.languages.insertBefore('r', 'comment', {
        'heading': [
          {
            // title 1
        	  // =======

        	  // title 2
        	  // -------
        	  pattern: /\w+.*(?:\r?\n|\r)(?:====+|----+)/,
            alias: 'operator'
          },
          {
            // ### title 3
            pattern: /(^\s*)###[^#].+/m,
            lookbehind: true,
            alias: 'operator'
          }
        ]
      });

      // prism highlight
      Prism.highlightAll();
    }
  }


  // get theme color
  var themeColors = {
    bootstrap: {
      primary: "rgba(51, 122, 183, 0.4)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    cerulean: {
      primary: "rgb(47, 164, 231)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    journal: {
      primary: "rgba(235, 104, 100, 0.70)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    flatly: {
      primary: "rgba(44, 62, 80, 0.70)",
      info: "rgba(52, 152, 219, 0.70)",
      success: "rgba(24, 188, 156, 0.70)",
      warning: "rgba(243, 156, 18, 0.70)",
      danger: "rgba(231, 76, 60, 0.70)"
    },
    readable: {
      primary: "rgba(69, 130, 236, 0.4)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    spacelab: {
      primary: "rgba(68, 110, 155, 0.25)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    united: {
      primary: "rgba(221, 72, 20, 0.30)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    cosmo: {
      primary: "rgba(39, 128, 227, 0.7)",
      info: "rgba(153, 84, 187, 0.7)",
      success: "rgba(63, 182, 24, 0.7)",
      warning: "rgba(255, 117, 24, 0.7)",
      danger: "rgba(255, 0, 57, 0.7)"
    },
    lumen: {
      primary: "rgba(21, 140, 186, 0.70)",
      info: "rgba(117, 202, 235, 0.90)",
      success: "rgba(40, 182, 44, 0.70)",
      warning: "rgba(255, 133, 27, 0.70)",
      danger: "rgba(255, 65, 54, 0.70)"
    },
    paper: {
      primary: "rgba(33, 150, 243, 0.35)",
      info: "rgb(225, 190, 231)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(255, 224, 178)",
      danger: "rgb(249, 189, 187)"
    },
    sandstone: {
      primary: "rgba(50, 93, 136, 0.3)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    simplex: {
      primary: "rgba(217, 35, 15, 0.25)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    yeti: {
      primary: "rgba(0, 140, 186, 0.298039)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    }
  }
  function themeColor(color) {
    return themeColors[_options.theme][color];
  }

  FlexDashboard.prototype = {
    constructor: FlexDashboard,
    init: init,
    isMobilePhone: isMobilePhone,
    isFillPage: isFillPage,
    themeColor: themeColor
  };

  return FlexDashboard;

})();

// utils
window.FlexDashboardUtils = {
  resizableImage: function(img) {
    var src = img.attr('src');
    var url = 'url("' + src + '")';
    img.parent().css('background', url)
                .css('background-size', 'contain')
                .css('background-repeat', 'no-repeat')
                .css('background-position', 'center')
                .addClass('image-container');
  },
  setLocation: function(href) {
    if (history && history.pushState) {
      history.pushState(null, null, href);
    } else {
      window.location.replace(href);
    }
    setTimeout(function() {
        window.scrollTo(0, 0);
    }, 10);
    this.manageActiveNavbarMenu();
  },
  showPage: function(href) {
    $('ul.navbar-nav li a[href="' + href + '"]').tab('show');
    var baseUrl = this.urlWithoutHash(window.location.href);
    var loc = baseUrl + href;
    this.setLocation(loc);
  },
  showLinkedValue: function(href) {
    // check for a page link
    if ($('ul.navbar-nav li a[data-toggle=tab][href="' + href + '"]').length > 0)
      this.showPage(href);
    else
      window.open(href);
  },
  urlWithoutHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(0, hashLoc);
    else
      return url;
  },
  urlHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(hashLoc);
    else
      return "";
  },
  manageActiveNavbarMenu: function () {
    // remove active from anyone currently active
    $('.navbar ul.nav').find('li').removeClass('active');
    // find the active tab
    var activeTab = $('.dashboard-page-wrapper.tab-pane.active');
    if (activeTab.length > 0) {
      var tabId = activeTab.attr('id');
      if (tabId)
        $(".navbar ul.nav a[href='#" + tabId + "']").parents('li').addClass('active');
    }
  }
};

window.FlexDashboard = new FlexDashboard();

// empty content
window.FlexDashboardComponents.push({
  find: function(container) {
    if (container.find('p').length == 0)
      return container;
    else
      return $();
  }
})

// plot image
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('p')
                    .children('img:only-child');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// plot image (figure style)
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.figure').children('img');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// htmlwidget
window.FlexDashboardComponents.push({

  init: function(dashboardContainer) {
    // trigger "shown" after initial layout to force static htmlwidgets
    // in runtime: shiny to be resized after the dom has been transformed
    dashboardContainer.on('flexdashboard:layoutcomplete', function(event) {
      setTimeout(function() {
        dashboardContainer.trigger('shown');
      }, 200);
    });
  },

  find: function(container) {
    return container.children('div[id^="htmlwidget-"],div.html-widget');
  }
});

// gauge
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.html-widget.gauge');
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {


  }

});

// shiny output
window.FlexDashboardComponents.push({
  find: function(container) {
    return container.children('div[class^="shiny-"]');
  }
});

// datatables
window.FlexDashboardComponents.push({
  find: function(container) {
    return container.find('.datatables');
  },
  flex: function(fillPage) {
    return fillPage;
  }
});

// bootstrap table
window.FlexDashboardComponents.push({

  find: function(container) {
    var bsTable = container.find('table.table');
    if (bsTable.length !== 0)
      return bsTable;
    else
      return container.find('tr.header').parent('thead').parent('table');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var bsTable = element;

    // fixup xtable generated tables with a proper thead
    var headerRow = bsTable.find('tbody > tr:first-child > th').parent();
    if (headerRow.length > 0) {
      var thead = $('<thead></thead>');
      bsTable.prepend(thead);
      headerRow.detach().appendTo(thead);
    }

    // improve appearance
    container.addClass('bootstrap-table');

    // for fill page provide scrolling w/ sticky headers
    if (fillPage) {
      // force scrollbar on overflow
      container.addClass('flowing-content-shim');

      // stable table headers when scrolling
      bsTable.stickyTableHeaders({
        scrollableArea: container
      });
    }
  }
});

// embedded shiny app
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('iframe.shiny-frame');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage) {
      element.attr('height', '100%');
    } else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (!height)
        height = element.attr('height');
      if (!height)
        element.attr('height', 500);
    }
  }
});

// shiny fillRow or fillCol
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('.flexfill-container');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage)
      element.css('height', '100%');
    else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (height === "100%" || height === "auto" || height === "initial" ||
          height === "inherit" || !height) {
        element.css('height', 500);
      }
    }
  }
});

// valueBox
window.FlexDashboardComponents.push({

  type: "custom",

  find: function(container) {
    if (container.find('span.value-output, .shiny-valuebox-output').length)
      return container;
    else
      return $();
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var chartTitle = title;
    var valueBox = element;

    // add value-box class to container
    container.addClass('value-box');

    // value paragraph
    var value = $('<p class="value"></p>');

    // if we have shiny-text-output then just move it in
    var valueOutputSpan = [];
    var shinyOutput = valueBox.find('.shiny-valuebox-output').detach();
    if (shinyOutput.length) {
      valueBox.children().remove();
      shinyOutput.html("&mdash;");
      value.append(shinyOutput);
    } else {
      // extract the value (remove leading vector index)
      var chartValue = valueBox.text().trim();
      chartValue = chartValue.replace("[1] ", "");
      valueOutputSpan = valueBox.find('span.value-output').detach();
      valueBox.children().remove();
      value.text(chartValue);
    }

    // caption
    var caption = $('<p class="caption"></p>');
    caption.append(chartTitle);

    // build inner div for value box and add it
    var inner = $('<div class="inner"></div>');
    inner.append(value);
    inner.append(caption);
    valueBox.append(inner);

    // add icon if specified
    var icon = $('<div class="icon"><i></i></div>');
    valueBox.append(icon);
    function setIcon(chartIcon) {
      var iconLib = "";
      var iconSplit = chartIcon.split(" ");
      if (iconSplit.length > 1) {
        iconLib = iconSplit[0];
        chartIcon = iconSplit.slice(1).join(" ");
      } else {
        var components = chartIcon.split("-");
        if (components.length > 1)
          iconLib = components[0];
      }
      icon.children('i').attr('class', iconLib + ' ' + chartIcon);
    }
    var chartIcon = valueBox.attr('data-icon');
    if (chartIcon)
      setIcon(chartIcon);

    // set color based on data-background if necessary
    var dataBackground = valueBox.attr('data-background');
    if (dataBackground)
      valueBox.css('background-color', bgColor);
    else {
      // default to bg-primary if no other background is specified
      if (!valueBox.hasClass('bg-primary') &&
          !valueBox.hasClass('bg-info') &&
          !valueBox.hasClass('bg-warning') &&
          !valueBox.hasClass('bg-success') &&
          !valueBox.hasClass('bg-danger')) {
        valueBox.addClass('bg-primary');
      }
    }

    // handle data attributes in valueOutputSpan
    function handleValueOutput(valueOutput) {

      // caption
      var dataCaption = valueOutput.attr('data-caption');
      if (dataCaption)
        caption.html(dataCaption);

      // icon
      var dataIcon = valueOutput.attr('data-icon');
      if (dataIcon)
        setIcon(dataIcon);

      // color
      var dataColor = valueOutput.attr('data-color');
      if (dataColor) {
        if (dataColor.indexOf('bg-') === 0) {
          valueBox.css('background-color', '');
          if (!valueBox.hasClass(dataColor)) {
             valueBox.removeClass('bg-primary bg-info bg-warning bg-danger bg-success');
             valueBox.addClass(dataColor);
          }
        } else {
          valueBox.removeClass('bg-primary bg-info bg-warning bg-danger bg-success');
          valueBox.css('background-color', dataColor);
        }
      }

      // url
      var dataHref = valueOutput.attr('data-href');
      if (dataHref) {
        valueBox.addClass('linked-value');
        valueBox.off('click.value-box');
        valueBox.on('click.value-box', function(e) {
          window.FlexDashboardUtils.showLinkedValue(dataHref);
        });
      }
    }

    // check for a valueOutputSpan
    if (valueOutputSpan.length > 0) {
      handleValueOutput(valueOutputSpan);
    }

    // if we have a shinyOutput then bind a listener to handle
    // new valueOutputSpan values
    shinyOutput.on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {
          var valueOutputSpan = element.find('span.value-output');
          if (valueOutputSpan.length > 0)
            handleValueOutput(valueOutputSpan);
        }, 10);
      }
    );
  }
});
</script>

<div id="dashboard-container">

<div id="andamento-giornaliero-pc1" class="section level1" data-orientation="rows">
<h1>Andamento giornaliero PC1</h1>
<div id="row" class="section level2" data-height="700">
<h2>Row</h2>
<div id="section" class="section level3">
<h3></h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-1-1.png" width="576" data-figure-id=fig1 /></p>
</div>
</div>
<div id="row-1" class="section level2" data-height="150">
<h2>Row</h2>
<div id="ita_ricoverati" class="section level3">
<h3>Ita_ricoverati</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Ricoverati" data-color="blue">7.076 </span></p>
</div>
<div id="ita_t_intensiva" class="section level3">
<h3>Ita_t_intensiva</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Terapia intesiva" data-color="blue">234 </span></p>
</div>
<div id="ita_i_domiciliare" class="section level3">
<h3>Ita_i_domiciliare</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Isolamento domiciliare" data-color="blue">520.840 </span></p>
</div>
<div id="ita_guariti" class="section level3">
<h3>Ita_guariti</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Guariti" data-color="blue">42.549 </span></p>
</div>
<div id="ita_morti" class="section level3">
<h3>Ita_morti</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Morti" data-color="blue">91 </span></p>
</div>
<div id="ita_t_positivit" class="section level3">
<h3>Ita_t_positivit</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Tasso positivit" data-color="blue">16.95  %</span></p>
</div>
</div>
<div id="row-2" class="section level2" data-height="150">
<h2>Row</h2>
<div id="lomb_ricoverati" class="section level3">
<h3>Lomb_ricoverati</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Ricoverati" data-color="green">1.176 </span></p>
</div>
<div id="lomb_t_intensiva" class="section level3">
<h3>Lomb_t_intensiva</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Terapia intesiva" data-color="green">17 </span></p>
</div>
<div id="lomb_i_domiciliare" class="section level3">
<h3>Lomb_i_domiciliare</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Isolamento domiciliare" data-color="green">81.847 </span></p>
</div>
<div id="lomb_guariti" class="section level3">
<h3>Lomb_guariti</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Guariti" data-color="green">10.910 </span></p>
</div>
<div id="lomb_morti" class="section level3">
<h3>Lomb_morti</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Morti" data-color="green">28 </span></p>
</div>
<div id="lomb_t_positivit" class="section level3">
<h3>Lomb_t_positivit</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><span class="value-output" data-caption="Tasso positivit" data-color="green">18.79  %</span></p>
</div>
</div>
</div>
<div id="andamento-giornaliero-pc2" class="section level1" data-orientation="rows">
<h1>Andamento giornaliero PC2</h1>
<div id="row-3" class="section level2" data-height="700">
<h2>Row</h2>
<div id="section-1" class="section level3">
<h3></h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" width="576" data-figure-id=fig2 /></p>
</div>
</div>
</div>
<div id="dati-italia" class="section level1">
<h1>Dati Italia</h1>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="htmlwidget-83d16d53849bfb07b3fd" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-83d16d53849bfb07b3fd">{"x":{"filter":"none","extensions":["Buttons"],"fillContainer":false,"data":[["febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971],[101,114,128,248,345,401,639,742,1034,1346,1790,2394,2651,3557,4316,5038,5838,6650,7426,8372,9663,11025,12894,14363,15757,16020,17708,19846,20692,21937,23112,24753,26029,26676,27386,27795,28192,28403,28540,28741,29010,28949,28976,28718,28485,28399,28242,28144,27847,28023,28011,27643,26893,25786,25007,25033,24906,24134,23805,22871,22068,21533,21372,20353,19723,19210,18149,17569,17357,17242,16823,16270,15769,15174,14636,13834,13618,13539,12865,12172,11453,10792,10400,10311,10207,9991,9624,9269,8957,8695,8613,8185,7917,7729,7379,7094,6680,6387,6099,5916,5742,5503,5301,5002,4864,4729,4581,4320,4131,3893,3747,3594,3489,3301,3113,2867,2632,2474,2314,2038,1853,1610,1515,1356,1260,1160,1120,1090,1025,963,956,940,945,946,940,899,871,844,826,776,768,777,797,750,771,757,743,745,732,724,713,713,731,735,740,749,731,748,716,705,708,734,761,764,762,779,771,763,779,801,779,786,771,764,787,810,843,866,883,919,924,971,1045,1058,1055,1131,1178,1168,1251,1288,1380,1437,1505,1607,1620,1683,1719,1760,1778,1836,1849,1951,2042,2122,2222,2285,2348,2387,2380,2365,2475,2604,2658,2731,2737,2746,2846,2977,3048,3047,3097,3142,3205,3287,3487,3625,3782,3925,4086,4336,4519,4821,5076,5470,5796,6178,6617,7131,7676,8454,9057,9694,10549,11287,12006,12997,13955,14981,15964,16994,17966,18902,19840,21114,22116,23256,24005,25109,26440,27636,28633,29444,29873,30914,31398,32047,32536,33074,33504,33610,33957,34063,34279,34697,34577,34313,34038,33684,33299,32879,33187,32811,32454,31772,31200,30158,30391,30524,30081,29653,29088,28562,28066,27735,27765,27342,26897,26427,25769,25364,25158,25145,24948,24546,24070,23402,23312,23571,23932,23662,23566,23151,22822,22948,23075,23317,23395,23174,23291,23313,23260,23427,23603,23712,23525,23110,22841,22784,22757,22884,22699,22469,22045,21691,21403,21309,21424,21355,21161,20778,20397,20098,20096,20260,20317,20071,19743,19575,19408,19266,19527,19512,19280,18942,18736,18500,18449,18515,18463,18274,17963,17831,17725,17804,18155,18295,18217,18257,18292,18372,18638,19112,19570,19763,20157,20374,20701,21144,21831,22393,22882,23247,23656,24153,24518,25338,26098,26517,26694,26858,27061,27484,28049,28428,28438,28424,28472,28621,28701,29163,29231,29180,28949,28704,28489,28432,28785,29337,29316,28851,28146,27654,27251,27329,26952,26369,25587,24743,24100,23648,23742,23255,22784,22094,21440,20971,20662,20635,20312,19860,19351,18940,18381,18345,18395,18176,17520,16867,16331,15799,15420,15427,14937,14280,13608,13050,12493,12134,12024,11539,11018,10383,9925,9488,9161,8950,8557,8118,7707,7192,6800,6591,6482,6192,5858,5717,5488,5193,4963,4910,4685,4382,4153,3876,3655,3542,3465,3333,3064,2888,2680,2504,2444,2390,2289,2140,2027,1899,1771,1743,1723,1676,1593,1532,1469,1394,1364,1337,1271,1234,1197,1167,1147,1134,1149,1128,1108,1089,1088,1111,1136,1188,1194,1196,1234,1304,1340,1392,1512,1611,1685,1730,1812,1851,1954,2070,2196,2309,2409,2449,2533,2631,2786,2880,2948,2975,3033,3101,3162,3334,3472,3559,3627,3692,3733,3767,3928,4036,4023,4059,4114,4111,4133,4264,4252,4231,4205,4164,4204,4216,4302,4307,4235,4230,4164,4117,4113,4200,4165,4128,4018,3989,3958,3929,3982,3937,3796,3650,3553,3497,3435,3487,3418,3317,3198,3118,3057,2991,3032,2968,2872,2824,2742,2692,2651,2688,2665,2552,2479,2445,2371,2386,2428,2423,2464,2439,2443,2455,2473,2579,2604,2615,2609,2658,2707,2754,2863,2992,3029,3045,3124,3173,3215,3362,3436,3447,3509,3525,3597,3647,3808,3970,4060,4088,4145,4250,4345,4507,4597,4629,4689,4748,4826,4964,5135,5227,5248,5298,5385,5428,5597,5879,6078,6099,6333,6483,6539,6697,6951,7163,7309,7338,7520,7576,7726,8101,8381,8544,8722,8812,8892,9220,9723,10089,10578,10866,11150,11265,11756,12333,12912,13364,13827,14591,14930,15647,16340,17067,17309,17648,18019,18370,18719,19228,19448,19500,19659,19485,19442,19627,19862,20037,20001,19853,19796,19636,19617,19913,19873,19550,19324,19000,18615,18498,18675,18337,17932,17354,16824,16310,16060,16050,15602,15127,14562,13948,13387,13284,13375,13076,12527,12125,11706,11103,10868,10851,10456,9954,9599,9297,8974,8828,8989,8776,8575,8414,8274,8234,8240,8468,8473,8410,8397,8403,8319,8430,8728,8969,8939,9029,8994,9023,9181,9496,9740,9871,9898,9981,9949,10017,10241,10246,10164,10078,10102,10023,10038,10256,10207,10166,10075,9980,9878,9758,9940,10214,10207,10231,10076,9914,9895,10050,10328,10155,10076,9942,9826,9738,9794,9695,9614,9384,9164,8815,8655,8735,8579,8412,8158,7907,7650,7532,7631,7465,7276,7020,6812,6570,6400,6388,6240,5969,5736,5558,5348,5234,5281,5121,4878,4589,4644,4442,4411,4453,4342,4296,4234,4162,4076,4118,4210,4199,4218,4303,4320,4331,4398,4585,4803,4947,5064,5205,5342,5532,5873,6035,6254,6592,6830,7035,7212,7648,8003,8220,8552,8632,8864,9044,9454,9724,9826,10115,10363,10434,10576,10848,10975,11037,10984,10944,10857,10925,11081,11124,11094,10911,10768,10602,10499,10527,10245,10006,9734,9397,9023,8926,9052,8816,8592,8358,8043,7755,7543,7504,7544,7339,7025,6782,6528,6442,6516,6378,6170,6004,5827,5668,5628,5631,5427,5091,4962,4819,4630,4573,4566,4459,4299,4150,4017,3936,3923,3989,3868,3719,3632,3600,3474,3420,3493,3495,3416,3350,3313,3293,3321,3461,3653,3715,3849,4101,4181,4292,4520,4814,5073,5188,5379,5489,5699,5987,6259,6484,6358,6540,6592,6715,6928,6993,7062,7025,7076],[26,35,36,56,64,105,140,166,229,295,351,462,567,650,733,877,1028,1153,1328,1518,1672,1851,2060,2257,2498,2655,2857,3009,3204,3396,3489,3612,3732,3856,3906,3981,4023,4035,4053,4068,3994,3977,3898,3792,3693,3605,3497,3381,3343,3260,3186,3079,2936,2812,2733,2635,2573,2471,2384,2267,2173,2102,2009,1956,1863,1795,1694,1578,1539,1501,1479,1427,1333,1311,1168,1034,1027,999,952,893,855,808,775,762,749,716,676,640,595,572,553,541,521,505,489,475,450,435,424,408,353,338,316,293,287,283,263,249,236,227,220,209,207,177,163,168,161,152,148,127,115,107,103,105,97,98,96,93,87,82,79,71,74,72,70,71,69,65,67,68,65,60,57,53,50,50,49,47,49,48,49,46,41,44,45,40,38,47,41,43,42,41,41,41,42,42,43,45,46,49,53,55,56,55,56,58,58,66,68,69,64,69,65,66,69,67,74,79,86,94,107,109,120,121,121,133,142,143,150,164,175,182,187,197,201,207,212,208,215,222,232,239,244,246,244,247,254,264,271,280,291,294,297,303,323,319,337,358,387,390,420,452,514,539,586,638,705,750,797,870,926,992,1049,1128,1208,1284,1411,1536,1651,1746,1843,1939,2022,2225,2292,2391,2515,2634,2749,2849,2971,3081,3170,3230,3306,3422,3492,3612,3670,3712,3748,3758,3801,3810,3816,3848,3846,3782,3762,3753,3744,3663,3616,3597,3567,3517,3454,3382,3345,3320,3291,3265,3199,3158,3095,3003,2926,2855,2819,2784,2743,2731,2687,2624,2589,2584,2580,2580,2565,2549,2528,2555,2553,2569,2583,2579,2569,2571,2587,2587,2593,2615,2642,2636,2579,2557,2522,2520,2503,2544,2487,2461,2418,2390,2386,2400,2421,2372,2352,2288,2270,2218,2215,2252,2214,2145,2151,2142,2110,2107,2143,2143,2128,2126,2095,2062,2085,2089,2074,2043,2045,2059,2063,2094,2118,2146,2157,2168,2194,2216,2231,2289,2327,2411,2475,2525,2571,2605,2700,2756,2827,2859,2914,2982,3082,3157,3256,3317,3333,3364,3387,3448,3510,3546,3588,3620,3628,3635,3679,3721,3716,3710,3681,3704,3714,3703,3737,3743,3683,3663,3603,3588,3585,3593,3526,3490,3417,3366,3340,3311,3244,3151,3076,3021,2979,2894,2862,2849,2748,2711,2640,2583,2522,2524,2490,2423,2368,2308,2253,2211,2192,2158,2056,1992,1893,1860,1805,1779,1754,1689,1643,1544,1469,1430,1410,1382,1323,1278,1206,1142,1095,1061,1033,989,933,892,836,788,774,759,688,661,626,597,574,565,536,504,471,444,416,394,389,385,362,344,328,306,298,294,289,270,247,229,213,204,197,191,187,180,180,169,161,161,158,157,151,153,161,162,156,162,165,158,158,155,172,178,182,189,183,194,201,214,230,249,258,260,268,277,288,299,323,322,337,352,369,372,384,404,423,442,460,455,466,472,485,504,499,503,511,511,525,548,544,540,555,556,569,572,570,563,564,558,548,547,559,563,554,540,531,525,519,530,523,516,513,505,489,481,483,488,459,450,440,429,432,431,437,433,415,403,383,367,364,374,370,367,359,357,352,349,358,355,355,356,343,338,341,338,341,341,347,349,346,342,364,385,381,383,395,392,398,415,421,423,422,445,453,458,475,481,486,503,512,512,520,549,560,573,588,606,624,638,669,683,686,698,708,732,736,743,776,791,811,816,818,829,856,863,870,917,923,953,966,987,1012,1010,1023,1038,1071,1089,1126,1145,1185,1226,1260,1297,1319,1351,1392,1428,1467,1499,1557,1595,1606,1677,1669,1668,1679,1677,1691,1717,1715,1688,1698,1707,1676,1685,1685,1691,1665,1645,1630,1588,1593,1584,1549,1524,1457,1440,1411,1431,1423,1376,1350,1322,1265,1223,1190,1173,1119,1073,1037,987,953,934,928,896,886,839,799,763,733,714,708,681,654,625,609,603,610,592,563,545,527,513,516,518,502,477,473,474,471,467,463,455,466,447,447,452,464,487,487,481,468,476,493,489,483,471,466,471,462,462,465,466,463,449,420,419,411,403,411,422,413,415,411,409,416,416,409,394,382,371,366,366,368,366,371,369,363,355,356,363,358,338,334,341,340,347,353,337,318,308,307,301,292,291,286,271,259,252,250,260,255,248,223,226,225,218,218,217,219,199,197,196,193,183,193,183,189,192,191,193,199,209,206,216,216,225,225,227,234,237,248,261,264,275,291,303,323,325,343,361,344,350,360,375,388,391,395,405,403,417,413,410,410,405,408,405,426,434,424,406,400,382,388,398,386,396,362,351,336,342,339,331,321,321,306,291,298,301,299,288,268,260,256,262,255,254,239,234,231,227,229,229,226,213,207,195,188,190,185,185,184,185,172,173,180,176,163,151,143,142,150,157,151,150,146,138,134,126,125,130,128,139,141,136,138,133,140,155,171,180,198,194,211,216,224,228,236,244,252,252,254,254,251,242,234],[94,162,221,284,412,543,798,927,1000,1065,1155,1060,1843,2180,2936,2599,3724,5036,6201,7860,9268,10197,11108,12090,14935,19185,22116,23783,26522,28697,30920,33648,36653,39533,42588,43752,45420,48134,50456,52579,55270,58320,60313,61557,63084,64873,66534,68744,71063,72333,73094,74696,76778,78364,80031,80589,80758,81104,81510,81710,82286,82212,82722,83504,83619,83652,81708,81796,81808,81436,81678,80770,74426,73139,72157,69974,68679,67950,67449,65392,64132,60470,59012,57278,55597,54422,52452,51051,49770,48485,47428,46574,44504,42732,40118,38606,36561,35275,34844,33569,33202,32588,31359,30582,30111,29718,28028,27141,26270,24877,23518,22471,22213,21091,20649,20066,18750,18586,18510,18472,17605,16938,16685,16177,15479,15423,15280,14380,14143,14015,13849,13610,13623,13691,13232,12625,12519,12519,12410,12335,12324,12082,11639,11670,11635,11561,11648,11612,11467,11550,11642,11542,11670,11786,11796,11820,11847,11435,11665,11709,11706,11699,11680,11841,11890,12103,12139,12455,12543,12711,12959,13240,13422,13587,13890,13999,14188,14428,15063,15690,16515,17398,18085,18590,19629,20734,21783,22909,23868,24696,25267,26271,27290,28371,29453,30262,31132,31886,32806,33708,34743,35370,36280,36868,37289,38040,38853,39862,40566,41511,42372,42646,43212,43803,44737,45600,46518,47082,47311,47936,49259,50561,52064,53839,55093,56190,58457,61669,65637,70103,74136,77491,81603,86436,92884,100496,109613,118356,125530,133415,145459,158616,174404,190767,209027,222403,239724,259940,281576,307046,331577,357288,374650,394803,418827,446701,472598,504793,529447,542849,558506,580833,602011,629782,653731,677021,681756,697124,705994,724349,739471,753925,767867,758342,759993,753536,757961,750427,752247,759139,751540,743471,725160,724613,722935,720494,721461,714913,704099,677542,664148,658496,653583,655138,644249,632968,615883,606061,599210,592018,594859,585706,578320,571646,566973,553900,555051,555609,548724,542517,538301,544190,549392,551545,550556,544562,543197,542967,545177,544489,546989,553890,549734,543692,538670,535713,532705,532413,528114,521631,510338,498623,492105,477972,475045,475569,467785,458690,454456,451551,445157,441036,431657,425077,415234,412506,408383,407401,405516,405651,397934,392312,388703,383951,381343,380851,382249,377494,373149,368547,364493,362558,364835,368997,367630,367507,369059,375718,384178,391378,401498,402932,409099,415247,423807,433571,442540,449113,448002,453734,461365,471244,482747,492926,503666,501862,506761,509174,517483,526317,535005,540740,531508,528680,529282,530914,534611,539559,540792,533046,529818,528163,530849,532887,532652,536900,537574,522625,514838,511816,504612,501843,502169,493495,488742,484801,481019,478629,477868,477652,466503,456309,449775,447081,441124,437583,437688,429328,425089,420200,416718,414747,409639,410037,402673,393290,387241,383627,378980,372110,366242,356085,346866,336150,330507,324696,318532,314969,309113,302080,294069,287559,280394,272826,270521,266107,258265,250633,244280,237936,234071,230644,226159,218570,203259,198953,193868,189388,186535,182784,176353,169892,164530,160766,158180,156206,153789,102069,98320,95276,88976,86252,84877,74078,70313,66135,59954,58030,55663,55125,52670,50878,48601,47597,46097,43978,43103,42003,41121,40426,40092,40060,39707,39786,39119,39364,40441,39658,41465,42218,44821,46175,47951,49954,53474,57293,61011,64687,66542,68510,72293,76560,80949,85220,89166,90698,91762,94651,98369,101959,105714,109336,111746,113121,115476,117958,120848,122993,124982,124958,125221,124781,126415,127315,129222,130699,131142,130785,131202,132495,133493,134806,136389,136581,133129,131807,132138,132305,132266,131914,131148,128917,126782,125130,123777,122962,122662,121141,117621,113819,111793,109757,108563,109077,108009,105060,102250,100928,99514,98596,98326,97105,94995,92212,90670,90105,89260,89545,88627,86898,84960,83946,82801,82243,81793,81044,79511,77532,76530,75720,75348,74834,73577,71768,70849,70955,70943,71223,71961,71737,72101,72409,73822,75637,77328,79352,80495,81070,81877,83948,86837,90128,93380,94998,96348,98989,102989,106689,111062,115125,116592,118945,122539,127922,132473,138639,143895,146458,149353,154115,161321,167264,173496,180841,183839,188360,193849,202875,210061,217558,225667,229213,234040,242324,247409,255849,266525,277351,282950,289368,297474,309675,323525,338943,353583,360615,374751,393175,420284,450824,490503,506530,526655,587634,663102,767371,888574,1009231,1057462,1111368,1250993,1406325,1578285,1657981,1802406,1926737,1986651,2115395,2203082,2304202,2379130,2450800,2528447,2534333,2540993,2605402,2660684,2674511,2702831,2713594,2688310,2667534,2694915,2684955,2647402,2643424,2622607,2571109,2455092,2386552,2307449,2197904,2108517,2053319,1970603,1908087,1855343,1794598,1733036,1678081,1621423,1573392,1533689,1463913,1422609,1389187,1355438,1334129,1307668,1277821,1208010,1186264,1163419,1128692,1110677,1088369,1062066,1050975,1031209,1013865,1009248,1006910,998761,1002153,992784,962196,967678,976875,990748,994253,1027149,1045280,1079347,1111344,1138729,1163927,1166089,1191183,1217485,1236327,1236840,1244908,1253246,1244073,1256651,1272464,1266678,1261030,1267169,1273510,1263581,1263671,1263227,1242507,1239043,1227380,1236053,1222040,1218075,1217243,1217167,1208525,1211049,1215877,1206492,1197643,1196280,1212167,1212635,1221906,1233838,1232134,1224239,1224127,1238348,1236804,1219187,1221566,1194940,1189899,1177085,1155371,1136858,1122194,1110903,1094657,1074035,1032446,1010191,999615,992798,990239,974384,959599,944984,885847,867291,849998,843904,826368,803495,786343,747753,733136,715977,706554,693325,674025,663808,651085,643187,637210,636798,626678,624416,624500,620786,619063,616697,617913,612525,599500,599478,596286,567534,556491,588751,569855,594921,619850,647292,672748,697912,727681,732744,767178,828711,877936,921912,958254,1002440,1011228,1078946,1137489,1189802,1238229,1253657,1290678,1294204,1340382,1381676,1412919,1416008,1437711,1454071,1443130,1441553,1447929,1444427,1438090,1420595,1418535,1402875,1383875,1368609,1341012,1312096,1275742,1265596,1243828,1219076,1191041,1165198,1137431,1096099,1085688,1044776,1009180,960917,931533,906579,880076,869729,859259,846180,827133,810705,792381,775844,772106,760306,745459,721403,705074,691764,676680,674037,662904,654588,640629,629025,615371,603363,598403,584709,566700,551262,511096,498622,480830,467746,458504,450004,447030,440435,421980,423327,424477,423578,410422,409545,409247,413319,419580,424840,423841,440608,455519,472155,437707,451830,463524,462289,486842,504496,503156,520378,491814,501981,497224,514436,526739,532429,535982,545648,546047,536906,535960,535479,527409,520840],[1,0,2,42,1,4,33,66,11,116,138,109,66,33,102,280,41,213,181,527,369,414,192,1084,415,689,943,952,408,894,1036,999,589,1434,646,1590,1109,1118,1431,1480,1238,819,1022,1555,2099,1979,1985,2079,1677,1224,1695,962,2072,2563,2200,2128,1822,2723,2943,3033,2922,2622,1808,1696,2317,2311,4693,2304,1665,1740,1225,2352,8014,3031,2747,4008,2155,1401,2452,3502,2747,4917,2605,2366,2150,2075,2881,2278,2160,2120,1639,1502,2677,2443,3503,2240,2789,1874,848,1737,846,957,1886,1297,759,747,2062,1293,1399,1747,1780,1505,640,1516,929,1089,1363,546,440,533,1159,1526,614,890,969,307,305,1052,469,366,384,477,164,133,574,825,338,295,306,349,178,335,575,230,237,323,143,213,269,197,214,350,128,126,147,163,275,765,178,255,231,129,177,210,347,319,305,151,150,213,236,226,403,314,146,182,174,364,180,274,243,267,192,353,314,225,348,322,312,117,291,257,289,537,583,405,223,563,471,613,547,759,443,316,695,620,689,853,909,635,352,967,995,1097,954,977,724,773,1316,1198,1140,1126,1247,697,767,1418,1204,1060,1186,976,1184,891,1428,2037,1899,1908,1255,2334,1498,2046,2369,2082,2352,2309,2086,2423,3362,3416,3878,4285,5859,2954,3637,6258,5103,4961,10586,5966,6183,10215,17734,9090,15645,11480,12196,9376,21554,15434,24169,17020,21035,19502,13574,31395,20837,31819,24031,35467,24214,13642,23004,27088,38740,23474,25576,23923,17186,19638,25497,39266,30099,24169,24728,16270,22456,25789,34495,27913,22272,23384,12156,19632,20315,20494,22718,32324,9104,7798,14675,17044,19960,17421,16877,9166,14746,16206,16023,20227,15659,17575,17040,11174,16035,19565,20532,20115,18979,16186,16510,14763,21428,25015,20519,27676,16062,10885,15787,19256,19172,17220,19879,16764,20396,13975,18977,15748,17680,14995,15138,11380,15082,15827,16467,19838,16422,13973,9469,11771,14444,16519,17776,17170,12488,8946,10335,12898,14599,12853,11714,11320,6847,10894,10057,14068,13488,13682,13984,13467,13893,12999,13752,15000,14443,14970,9835,15807,14116,19716,15976,16292,14598,13526,32720,20601,20132,21673,19764,18287,17950,19725,18687,23744,20712,19620,21311,13511,9323,21733,20927,20229,26175,20483,15486,18010,18160,20251,21220,18779,16484,13134,19669,22453,20552,19125,21069,17587,13176,16539,14688,18416,18088,15621,18466,8637,13038,18477,17072,15867,15580,17394,14416,15063,16503,19023,14295,13782,13292,9603,9305,11831,13929,12816,12695,12633,6573,7032,11348,11930,10808,10534,7569,6574,6358,10313,18535,6392,7853,7200,5321,5024,8519,8912,7616,5893,4500,3460,3394,53074,5399,4533,7648,4087,2304,11320,4692,5455,6566,2769,3301,1336,2839,2493,3135,1941,2345,3110,1706,1582,1835,1735,1749,1434,1763,1318,1529,1287,1079,3264,1070,2328,501,651,1760,2235,1483,1239,1362,1001,1114,2418,1827,1825,2117,2170,1250,1498,3615,3565,3371,2936,3025,1991,1589,4125,4450,4715,4388,4931,3580,3477,4794,7424,5465,6211,5462,4382,3505,6248,7081,5839,6717,5494,4298,3854,8885,7774,6372,6544,6086,5602,3977,6877,8058,7122,6984,5997,4922,4186,7501,8606,7193,6549,5756,3314,3383,6308,6850,5466,5265,4451,3385,2892,5105,6042,5714,4007,4187,2716,2446,4210,5245,3966,4234,3325,2745,2184,3997,4827,3709,3533,3419,2913,2756,4442,4544,3673,3861,3579,2940,2626,3613,4226,3400,3433,3103,2432,1524,2065,4285,3754,3730,3392,2502,2727,4613,5319,4569,4715,4033,3411,3510,5220,6406,5148,5889,5220,4302,3579,6965,7558,6404,7610,6451,5383,4707,8041,9457,7650,9658,8988,6685,5567,10584,9540,7098,11777,10205,8151,6726,13908,14802,13704,14457,12430,9403,8640,16189,17595,17117,19804,14851,8428,9992,16746,21871,22246,22579,20432,12164,13379,30333,33037,46770,27582,52529,30399,56560,90456,108198,82803,125199,120609,79207,76679,220811,136152,143029,171565,148756,131303,102363,235177,139421,165779,181594,141230,124706,108493,248971,187816,191938,210353,182618,134009,123823,164915,134460,137221,129293,117463,109095,76553,110840,129888,99640,87472,84767,63492,50659,89993,119280,69439,65180,74516,50014,40415,73607,49352,62551,55818,46147,38274,30513,57408,59258,85787,48481,45393,36111,25834,53349,55967,48190,46408,48385,36166,30870,71380,51922,63553,75773,66396,52022,40300,87297,55303,79977,82443,65159,48486,40915,88637,70267,90774,70946,76051,45139,42384,87904,63318,65664,70895,61986,47468,27704,35763,101614,59916,73233,61778,44849,26738,37462,88545,55773,60951,71625,39195,45512,67398,60381,70523,62978,55691,42603,33496,76824,84344,61866,49734,43318,30334,29424,59720,45614,90017,45494,41696,24528,27490,54768,40323,61364,34748,35927,24636,20971,44088,29248,30648,17496,28948,15938,18625,30848,22827,27239,23745,24853,18036,15913,52817,32758,40108,64865,45956,1904,35545,37921,29740,29798,30753,31532,19320,19545,49493,33632,34599,42611,49322,28481,27590,64828,51183,55629,53233,83165,44312,79688,97438,70076,76992,94461,69489,52417,42594,122381,80209,84933,77894,86637,53793,39496,107347,79499,88425,83238,86714,47412,41129,89955,74049,68947,66155,76560,37084,52651,78741,80051,57911,51821,51462,29929,20357,21912,55396,43906,43140,41099,23225,22075,50209,49555,39851,35386,36969,20287,19417,39512,36032,32169,32876,29816,18181,20274,42884,33112,57542,28103,33417,25371,15558,31699,21915,24603,35806,15883,10946,9058,41480,22102,22835,17003,16084,13494,10828,27854,21763,20719,68638,18825,17086,14269,35350,27251,46009,27172,72114,24008,19502,48345,35153,40067,36735,29169,29684,22863,59125,42037,48592,42549],[7,3,2,5,4,8,5,18,27,28,41,49,36,133,97,168,196,189,250,175,368,349,345,475,427,627,793,651,601,743,683,662,969,889,756,812,837,727,760,766,681,525,636,604,542,610,570,619,431,566,602,578,525,575,482,433,454,534,437,464,420,415,260,333,382,323,285,269,474,174,195,236,369,274,243,194,165,179,172,195,262,242,153,145,99,162,161,156,130,119,50,92,78,117,70,87,111,75,60,55,71,88,85,72,53,65,79,71,53,56,78,44,26,34,43,66,47,49,24,23,18,-31,34,30,8,22,6,23,21,30,15,21,7,8,30,15,12,12,7,9,13,17,13,20,11,14,3,13,15,9,10,5,5,5,5,11,6,3,9,5,8,12,5,10,6,3,13,2,4,6,10,6,3,158,4,4,5,7,6,9,3,7,4,4,13,5,9,1,4,6,8,6,10,11,15,8,12,10,14,10,10,6,7,14,9,12,13,10,24,15,17,14,20,23,20,17,17,16,24,19,24,23,27,18,16,28,31,22,28,29,26,39,41,43,83,55,47,69,73,89,127,136,91,151,128,141,221,205,217,199,297,208,233,353,335,445,446,425,331,356,580,623,636,550,544,546,504,731,753,653,699,692,562,630,853,722,822,827,686,541,672,785,684,993,814,662,564,528,634,499,887,761,649,484,491,846,680,683,674,553,352,415,628,553,505,459,268,298,445,659,575,555,462,364,347,348,649,548,414,620,483,361,448,616,507,522,477,475,377,377,603,524,521,472,488,299,420,541,467,492,477,421,237,329,498,476,422,377,385,270,307,422,336,391,316,311,221,258,336,369,342,353,251,232,274,356,318,308,253,280,192,246,343,347,339,297,307,207,318,376,332,373,380,317,264,354,502,431,423,386,401,300,386,551,460,460,457,380,297,417,529,467,501,481,376,326,296,421,627,487,718,344,331,358,476,469,380,429,310,251,316,390,364,360,342,322,217,301,373,344,288,263,226,144,256,305,267,258,207,224,139,198,251,262,201,182,136,93,140,201,149,164,218,125,72,110,166,121,171,126,83,44,82,93,62,59,73,57,51,65,102,77,88,69,52,26,36,63,52,37,35,28,17,21,31,12,28,56,40,14,28,42,24,21,28,22,12,31,24,14,13,25,12,7,13,20,23,9,11,13,3,7,10,21,15,17,5,7,22,24,15,19,18,16,2,23,27,21,27,24,22,11,22,31,31,30,45,34,19,24,54,69,55,49,45,23,44,60,59,43,45,54,37,53,75,69,62,58,56,49,52,71,69,59,62,57,34,36,72,73,67,66,51,26,44,67,67,63,52,50,44,45,65,63,51,52,25,33,37,50,39,41,30,46,27,34,49,37,40,42,14,24,44,70,33,36,39,39,24,30,48,50,50,33,37,26,20,41,63,59,51,31,20,38,68,60,67,68,53,36,44,74,72,69,48,49,46,70,83,85,71,51,90,47,65,89,103,72,74,75,43,92,99,86,79,118,96,66,98,120,129,123,120,123,97,137,153,146,168,141,144,81,142,190,148,156,155,111,133,140,259,231,198,223,184,157,227,294,313,316,360,308,248,287,434,380,385,373,333,227,352,469,426,389,378,377,235,349,427,395,414,433,375,229,326,415,384,325,334,269,191,281,388,278,320,314,252,141,201,322,252,249,193,210,144,207,233,214,185,210,173,105,130,184,156,136,156,133,86,129,180,137,128,165,85,93,119,197,153,182,146,118,82,95,177,170,159,154,129,118,125,194,149,150,144,112,90,115,169,155,149,133,133,85,79,127,205,166,202,143,79,93,146,186,131,133,130,105,124,153,152,138,125,113,72,84,158,115,130,115,91,62,102,148,136,108,89,91,34,80,118,114,107,105,66,27,62,66,59,79,40,47,27,70,70,80,73,63,60,26,41,73,48,64,41,45,18,59,62,50,75,51,40,44,63,69,60,59,72,63,57,59,94,72,94,105,93,44,127,157,106,105,134,111,79,112,176,157,157,155,116,77,104,253,207,199,244,121,83,121,190,171,161,175,158,74,113,177,145,130,152,129,78,42,70,128,147,124,88,63,75,134,112,84,99,80,41,60,98,90,68,91,48,30,40,80,57,89,59,18,34,33,93,69,60,44,38,32,31,60,46,60,49,43,13,32,64,48,30,38,38,20,47,60,43,56,62,60,41,51,80,69,66,98,73,32,93,113,81,84,91],[5.11,2.16,8.09,10.3,6.47,8.09,22.95,15.42,18.56,14.75,30.46,19.46,21.87,18.95,46.21,14.09,18.66,20.62,22.19,29.93,22.82,24.75,32.97,24.92,30.88,24.83,24.9,22.08,28.06,24.42,18.96,16.8,18.05,16.85,21.29,17.36,13.69,13.88,11.73,11.87,12.86,12.61,11.89,9.01,7.42,9.09,7.39,8.29,8.76,8.59,11.1,6.1,6.21,5.32,5.66,6.01,5.44,5.24,5.34,3.97,4.84,3.6,4.66,5.43,3.65,3.27,2.73,2.65,3.43,3.09,3.24,1.95,2.25,1.99,2.08,1.57,1.55,1.83,2.09,1.43,1.38,1.16,1.26,1.12,1.24,1.29,0.99,0.9,0.86,0.92,0.95,0.85,0.69,0.87,0.78,0.72,0.6,0.66,0.57,0.61,0.86,0.35,0.8,0.37,0.4,1.03,0.51,0.32,0.61,0.23,0.7,0.6,1.08,0.45,0.42,0.57,0.44,0.48,0.55,0.75,0.3,0.36,0.53,0.49,0.29,0.47,0.46,0.29,0.34,0.38,0.45,0.45,0.51,0.94,0.32,0.38,0.44,0.58,0.41,0.61,0.71,0.27,0.34,0.46,0.46,0.52,0.62,0.78,0.3,0.57,0.51,0.47,0.53,0.63,0.67,0.44,0.52,0.62,0.62,0.49,0.55,0.66,0.43,0.68,0.69,0.93,0.65,1.23,0.98,1.01,0.91,1.02,1.23,1.18,1.3,1.04,0.75,0.9,1.09,1.32,1.38,1.8,2.08,1.21,1.46,1.5,1.51,1.46,1.78,1.7,1.21,1.29,1.51,1.53,1.57,1.69,2.11,1.48,1.49,1.7,1.63,1.62,2.02,2.22,1.53,1.44,1.56,1.91,1.59,1.9,2.42,1.59,1.58,1.65,1.78,1.79,2.01,2.92,1.83,1.75,2.16,2.08,2.39,2.78,3.75,2.68,2.94,3.48,4.15,4.3,5.21,5.41,5.24,4.82,5.4,6.66,6.59,7.99,9.45,7.51,8.55,9.44,10.52,11.06,13.14,13.64,12.61,12.56,13.32,14.45,14.71,16.3,16.39,15.49,14.42,15.69,16.14,17.18,17.06,17.11,16.12,14.61,16.18,16.05,16.36,17.4,17.92,15.44,14.6,14.46,15.64,14.66,15.01,15.39,12.31,11.24,12.46,12.73,11.65,11.67,12.55,10.63,10,10.55,11.33,10.8,11.55,12.34,9.95,10.77,9.91,9.83,10.13,11.75,11.61,9.03,8.81,-38.38,10.01,9.26,10.99,12.37,8.44,7.9,9.31,12.5,12.79,14.89,12.5,8.72,9.58,12.62,14.1,17.61,13.83,13.85,11.38,11.38,14.86,12.5,11.61,13.33,13.67,10.05,8.99,10.74,5.9,6.24,5.94,5.56,4.13,4.85,5.26,5.15,4.66,5.38,6.75,4.13,5.18,5.22,5.05,4.27,5.27,5.56,3.95,4.72,5.06,5.26,4.76,5.63,5.52,3.88,4.17,5.18,4.84,4.66,5.38,4.1,3.79,4.1,4.77,5.21,4.88,5.36,5.64,4.38,4.83,5.62,6.3,5.86,6.79,7.69,5.08,5.82,6.73,6.35,6.66,7.65,7.53,5.71,6.21,6.9,7.26,6.99,7.78,8.53,5.52,6.25,7.05,7.05,6.72,7.28,8.18,5.6,5.85,6.81,6.76,6.66,7.19,8.24,5.31,6.41,6.64,6.62,5.92,7.18,10.39,6.88,4.03,4.76,5.43,5.25,6.22,5.13,4.41,4.83,5.31,4.87,4.63,5.52,6.04,4.11,3.96,4.4,4.68,4.31,5.49,5.79,3.44,3.98,4.34,3.97,3.43,5.83,4.88,2.89,3.24,3.64,3.21,3.01,3.67,3.91,2.43,2.56,2.82,2.54,2.26,2.84,2.91,1.69,1.92,2.29,1.93,1.65,2.23,2.32,1.28,1.51,1.7,1.5,1.35,1.79,2.09,1.12,1.28,2.02,1.16,1.02,1.52,1.51,0.86,1.01,1.11,0.87,0.81,1.04,1.15,0.59,0.69,0.66,0.53,0.48,0.59,0.61,0.43,0.48,0.49,0.39,0.37,0.57,0.51,0.36,0.42,0.47,0.4,0.41,0.57,0.64,0.47,0.57,0.8,0.71,0.67,0.97,1.21,0.8,1.02,1.29,1.41,1.27,1.89,2.33,1.63,1.81,2.3,2.16,1.99,2.68,3.53,1.87,2.29,2.75,2.67,2.46,3.17,3.83,2.31,3.06,3.41,2.7,2.35,2.82,4.08,2.33,3.03,3.35,3.29,2.83,3.52,4.96,2.21,3.16,3.52,3.27,2.93,3.37,4.11,2.28,3.09,3.27,2.95,2.34,2.67,3.88,1.79,2.14,2.31,2.27,1.86,2.05,2.5,1.48,1.96,1.89,1.97,1.56,1.74,2.33,1.26,1.52,1.67,1.6,1.29,1.46,1.97,1.02,1.36,1.3,1.32,0.99,1.12,1.43,0.88,1.09,1.23,1.16,0.93,1.04,1.32,0.77,1.07,0.99,1.11,0.8,0.84,1.32,0.79,0.99,0.82,0.54,0.63,0.64,0.73,0.41,0.76,0.66,0.8,0.79,0.92,1.14,0.63,0.98,0.85,1.12,1.02,1.29,1.92,1.19,0.72,1.15,1.24,1.37,1.34,1.68,0.93,1.62,1.44,1.71,1.58,1.7,2.07,1.12,1.89,1.7,1.96,2.01,1.99,2.39,1.46,2.21,2.12,2.46,2.16,2.52,2.89,1.77,2.63,2.47,2.89,2.61,2.86,3.15,2.27,3.18,4,2.86,3.72,3.83,4.05,2.66,3.65,3.63,4.28,4.02,4.28,4.81,3.62,4.66,4.95,5.44,5.65,11.46,8.96,7.57,9.52,11.03,11.78,12.5,21.91,15.28,13.91,17.28,19.28,22.01,16.19,15.67,16.61,16.03,16.48,15.63,16.45,14.82,16.11,15.41,14.31,16.27,17,16.03,16.41,14.88,14.96,13.4,15.24,14.97,13.69,13.72,12.72,12.07,10.68,12.34,12.31,11.25,11.01,11.5,10.48,10.2,11.13,11.1,10.12,10.59,11.23,10.08,10.18,10.76,10.76,10.52,10.27,11.29,10.53,9.94,10.23,9.53,9.3,8.84,9.64,9.06,8.78,8.77,9.62,9.8,10.48,11.83,11.73,11.33,11.17,11.96,12.48,12.88,14.81,14.11,14.53,14.79,15.08,15.53,15.48,16.31,14.93,15.01,14.84,15,15,14.55,15.5,14.52,15.05,14.79,15.04,14.44,14.84,14.71,2.21,14.98,15.01,14.81,15.05,14.6,14.58,14.72,14.86,14.77,14.82,15.49,15.03,15.56,17.38,15.63,16.35,16.81,16.75,16.73,17.25,17.92,16.19,15.86,15.67,15.44,13.99,14.17,15.43,15.1,14.03,14.75,14.53,13.26,15.14,13.55,15.09,14.34,14.63,14.5,13.67,13.96,13.04,13.27,11.51,12.25,11.36,10.34,11.02,10.47,10.74,10.19,10.18,9.89,9.45,10.44,9.4,10.03,9.57,9.5,13.34,11.92,12.19,11.35,12.02,11.89,12.86,12.67,11.81,14.63,13.9,17.27,16.31,18.79,19.07,18.12,19.05,20.88,21.45,21.87,22.64,23.45,22.47,24.31,24.51,25.31,26.36,28.13,27.32,26.01,27.4,27.93,28.46,28.36,28.35,27.08,25.17,26.3,20.07,25.96,26.84,26.25,24.65,22.55,22.78,23,23.24,22.64,22.04,20.83,19.44,19.54,19.34,19.75,20.09,20.38,19.2,17.09,18.04,17.78,18.3,17.83,17.76,17.07,15.27,16.02,15.84,15.81,15.73,15.03,15.01,13.39,14.82,15.43,14.07,15.86,16.33,15.54,14.8,16.43,16.49,17.02,14.57,15.21,14.82,13.78,14.98,13.27,14.87,13.03,13.16,12.05,11.59,11.79,10.36,12.29,10.77,11.74,11.33,11.09,11.34,11.15,12.57,11,12.23,12.56,12.21,12.44,12.25,13.69,12.73,13.62,13.91,14.61,15.47,15.23,18.44,18.42,18.94,18.83,18.79,19.35,15.54,20.56,20.1,20.12,21.73,20.33,20.23,18.09,19.79,19.52,19.18,18.74,18.07,17.18,15.96,17.71,17.9,17.7,16.95]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>mese<\/th>\n      <th>giorno<\/th>\n      <th>ricoverati<\/th>\n      <th>t_intensiva<\/th>\n      <th>i_domiciliare<\/th>\n      <th>guariti<\/th>\n      <th>morti<\/th>\n      <th>t_positivit<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[[1,"desc"]],"dom":"Blfrtip","buttons":[{"extend":"collection","buttons":["csv","excel","pdf"],"text":"Download"}],"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7]}],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="dati-lombardia" class="section level1">
<h1>Dati Lombardia</h1>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="htmlwidget-ed06861b38d27cf09cc6" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ed06861b38d27cf09cc6">{"x":{"filter":"none","extensions":["Buttons"],"fillContainer":false,"data":[["febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","novembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","dicembre","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","gennaio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","febbraio","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","marzo","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","aprile","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","maggio","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","giugno","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","luglio","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","agosto","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","settembre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre","ottobre"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971],[76,79,79,172,235,256,406,478,698,877,1169,1622,1661,2217,2802,3319,3852,4247,4435,4898,5500,6171,6953,7285,7387,7735,8258,9439,9266,9711,10026,10681,11137,11152,11613,11815,11883,11927,11762,11802,12002,12009,11914,11833,11719,11796,11877,12026,11969,12028,12077,12043,11356,10627,10042,10342,10138,9805,9692,9192,8791,8489,8481,7525,7280,7120,6834,6628,6529,6609,6414,6201,6079,5848,5702,5535,5428,5397,5222,5007,4818,4705,4521,4480,4482,4426,4281,4119,4028,4026,4017,3721,3622,3626,3470,3552,3307,3131,3085,3021,2995,2954,2960,2840,2801,2708,2660,2565,2488,2357,2252,2116,2018,1902,1796,1673,1537,1401,1260,1047,910,692,622,501,415,323,321,297,277,241,241,231,230,233,229,211,201,190,173,160,168,176,177,164,159,149,148,151,151,149,139,144,148,139,137,151,154,151,148,158,153,162,160,164,168,170,162,155,150,160,165,170,153,149,147,147,150,151,155,149,148,148,153,158,158,173,172,185,194,195,212,220,225,244,245,248,242,248,252,256,246,251,252,262,263,264,272,284,271,264,283,294,308,303,300,312,302,306,315,306,298,302,293,296,305,320,339,361,371,408,433,463,546,645,726,834,943,1065,1136,1268,1521,1685,2013,2153,2326,2459,2715,3072,3355,3698,4033,4246,4406,4740,5018,5318,5563,5813,6225,6414,6682,6907,7047,7319,7621,7781,7901,8151,8323,8291,8304,8314,8391,8331,8360,8114,7996,7869,7616,7400,7433,7342,7222,7025,6792,6554,6372,6362,6187,5727,5613,5417,5289,5159,5053,4996,4946,4793,4656,4495,4341,4232,4290,4243,4178,3976,3839,3801,3791,3634,3617,3437,3352,3293,3267,3227,3344,3424,3363,3436,3577,3598,3522,3641,3651,3614,3601,3664,3610,3553,3619,3650,3644,3579,3499,3428,3412,3530,3573,3537,3490,3454,3503,3489,3544,3554,3539,3549,3540,3467,3491,3553,3564,3550,3583,3574,3562,3572,3693,3740,3716,3733,3722,3741,3826,3917,3946,4024,4034,4062,4118,4224,4408,4545,4735,4804,4934,5058,5200,5416,5584,5718,5909,6068,6077,6198,6474,6641,6744,6796,6891,6926,6952,7165,7178,7132,7111,7124,7069,6994,7109,7033,6823,6703,6660,6622,6626,6643,6595,6501,6252,6059,5896,5763,5727,5589,5387,5131,4901,4716,4623,4639,4522,4352,4185,4050,3886,3824,3819,3707,3597,3495,3403,3290,3215,3263,3188,3072,2968,2850,2726,2668,2556,2441,2351,2251,2159,2053,2028,1992,1920,1755,1662,1566,1480,1473,1453,1369,1299,1233,1131,1076,1051,1073,980,942,939,887,833,799,817,754,721,660,633,628,596,590,534,496,427,402,408,391,389,350,321,298,269,258,250,248,218,201,195,208,195,164,158,150,134,127,121,124,128,131,123,128,143,136,135,138,136,132,135,142,153,150,151,180,194,206,211,206,208,210,237,247,254,248,259,276,275,283,294,292,299,317,308,311,320,319,309,314,319,311,320,329,340,339,333,331,332,341,353,359,348,352,352,365,375,384,386,395,391,402,412,416,436,435,437,427,438,428,435,437,417,412,414,401,379,389,393,384,380,372,365,359,347,358,351,349,334,339,333,325,333,315,300,297,287,289,288,283,280,276,274,281,276,280,301,312,300,297,302,294,288,293,317,330,336,332,338,348,379,402,409,434,430,441,460,524,556,584,623,656,666,686,736,729,740,767,774,789,817,848,887,893,912,924,955,986,1041,1066,1084,1124,1132,1108,1135,1185,1189,1185,1193,1223,1225,1257,1307,1352,1408,1400,1401,1439,1539,1698,1831,1831,1859,1945,2052,2147,2312,2420,2519,2624,2607,2887,2999,3202,3317,3452,3469,3503,3566,3649,3704,3678,3719,3503,3461,3396,3416,3411,3405,3264,3164,3072,3004,3016,3044,2970,2899,2814,2656,2582,2558,2519,2393,2272,2161,2048,1934,1913,1872,1756,1649,1523,1391,1329,1340,1272,1201,1196,1187,1103,1059,1052,1007,980,951,894,849,821,821,821,794,776,783,776,762,786,829,809,844,858,880,874,904,934,940,965,956,915,928,967,1010,1036,1040,1070,1078,1081,1107,1159,1144,1088,1101,1108,1079,1104,1105,1149,1125,1118,1126,1105,1116,1147,1169,1196,1203,1178,1158,1171,1215,1251,1261,1233,1227,1183,1177,1176,1190,1179,1149,1131,1099,1094,1086,1044,988,953,930,890,876,912,914,863,830,798,770,744,749,779,720,700,670,608,615,613,575,533,518,497,476,485,493,486,474,458,436,428,445,474,493,505,526,550,556,589,638,675,689,702,715,741,780,837,854,909,975,1007,1002,1027,1103,1171,1215,1219,1263,1279,1306,1383,1406,1455,1482,1506,1526,1538,1543,1573,1540,1524,1490,1495,1526,1577,1550,1529,1503,1448,1416,1399,1375,1348,1294,1210,1148,1113,1125,1137,1081,1055,1010,979,914,905,917,891,884,845,799,782,790,780,753,757,715,686,673,667,659,633,605,594,586,569,575,569,540,501,496,502,507,514,533,525,507,488,482,464,477,496,475,468,485,455,443,457,498,517,538,581,598,609,635,731,786,817,852,888,920,953,1040,1101,1065,1101,1123,1135,1149,1192,1192,1181,1176],[19,25,25,41,47,80,106,127,167,209,244,309,359,399,440,466,560,605,650,732,767,823,879,924,1006,1050,1093,1142,1183,1194,1236,1263,1292,1319,1328,1330,1324,1342,1351,1381,1326,1317,1343,1305,1257,1236,1202,1174,1176,1143,1122,1074,1032,971,947,922,901,851,817,790,756,724,706,680,655,634,605,563,545,532,532,509,480,480,400,330,348,341,322,307,297,276,268,255,252,244,231,226,207,199,197,196,183,175,173,173,172,170,167,166,131,125,120,110,107,107,96,98,97,97,96,94,94,69,59,60,60,54,53,51,51,48,48,47,43,43,43,42,41,41,41,36,36,36,36,34,31,27,29,31,30,27,23,23,22,22,22,21,21,17,17,17,13,13,14,13,13,13,7,9,9,9,9,11,11,9,9,9,9,10,10,11,12,12,13,14,14,14,16,17,14,14,15,15,17,14,17,18,20,22,21,22,27,26,23,25,26,27,27,30,27,27,28,28,29,30,32,32,36,38,36,34,33,31,30,30,31,31,33,34,35,39,42,39,41,40,40,41,44,44,48,50,62,64,72,71,96,110,113,123,134,156,184,213,231,242,271,292,345,370,392,418,435,475,507,522,570,610,650,670,708,764,782,801,817,837,855,894,903,915,930,936,949,945,932,942,934,925,919,907,906,876,855,836,822,805,807,781,767,766,748,733,717,714,685,656,629,611,602,592,583,561,540,536,521,522,513,508,512,498,481,489,487,491,489,484,475,471,473,466,456,459,462,466,462,468,466,454,452,449,425,428,411,408,398,405,407,392,377,371,379,377,362,371,361,359,362,359,354,358,362,363,371,368,359,365,364,366,373,363,368,373,382,386,391,408,406,407,416,435,426,441,476,506,532,543,565,573,597,611,617,645,667,694,714,728,765,781,786,788,791,806,822,836,845,845,848,852,868,870,862,863,860,857,862,864,858,845,834,830,828,824,814,811,787,781,739,728,723,722,708,675,667,653,644,611,610,601,582,575,557,550,536,542,535,525,519,513,491,490,492,479,454,448,417,411,390,382,371,353,337,316,308,298,294,284,272,273,260,248,243,246,234,220,207,193,183,170,167,167,145,143,130,122,118,114,109,100,92,90,91,80,77,77,73,72,65,63,64,62,61,52,51,49,47,45,44,44,45,44,43,35,37,37,36,35,32,29,30,31,31,30,31,28,28,27,26,27,28,29,29,30,26,25,27,32,32,32,31,35,35,35,37,35,35,37,33,36,42,40,39,39,42,41,41,41,43,45,43,42,44,42,45,48,45,46,50,51,57,58,56,54,55,58,59,59,60,62,60,59,57,59,57,59,63,62,63,61,60,58,61,62,56,58,57,54,58,57,56,59,63,63,60,57,54,55,56,59,54,56,55,52,52,53,55,53,51,49,48,48,49,48,45,46,44,45,45,48,49,49,48,47,47,46,47,42,45,49,51,50,50,51,53,56,57,58,61,65,67,72,74,81,90,91,99,103,108,111,114,121,124,125,134,136,136,139,140,143,143,146,145,146,147,154,160,163,161,164,162,168,178,180,187,193,191,204,221,222,216,219,234,226,229,234,237,244,246,256,253,257,262,258,268,267,267,265,271,276,274,267,265,264,259,254,252,254,254,251,235,229,218,216,214,213,207,197,192,182,174,173,170,162,166,162,158,155,156,152,143,137,130,110,103,98,97,97,97,98,90,89,81,82,82,81,79,72,73,72,73,73,73,71,58,58,58,57,52,45,47,41,43,45,44,47,46,43,41,42,40,44,45,39,35,40,42,39,43,42,43,40,38,37,35,36,36,35,38,39,37,37,39,42,37,35,35,34,33,36,35,34,36,37,36,34,35,38,36,37,35,36,39,38,40,37,35,37,35,32,34,34,36,34,32,33,33,35,35,35,32,34,34,35,34,31,30,27,20,20,21,20,21,20,19,18,17,17,16,16,16,18,18,17,15,15,14,17,21,24,24,24,24,25,26,29,26,25,27,28,29,36,40,42,44,42,40,40,38,39,41,41,48,48,48,55,58,49,52,53,51,53,50,47,36,36,34,36,35,37,42,41,28,31,32,31,30,27,20,21,21,21,20,20,22,23,22,22,21,21,21,22,22,15,14,13,13,14,16,15,13,13,13,14,13,8,9,9,12,12,10,10,10,9,8,8,8,7,7,8,8,9,10,10,11,15,15,13,13,13,15,14,15,14,16,15,16,16,20,19,23,20,17],[71,127,145,136,192,216,375,472,461,411,364,77,722,756,1248,642,1351,2044,2647,3429,3776,3867,4263,4057,5545,6635,8019,7304,8461,8963,9329,10245,11466,12038,12451,11861,11917,12496,12763,13006,13892,14798,15212,15205,15569,16042,16451,17058,18120,18764,19164,19804,20702,21836,23206,23233,23548,23322,23733,23891,24821,25260,25979,27236,27809,28368,28772,29282,29593,29785,30361,30382,25194,25687,25881,24397,24414,24673,25131,24718,24841,22765,22890,22695,22339,22621,22159,22370,21698,21405,21400,21298,20672,20236,19270,18958,18330,17695,17609,17068,17098,17145,16773,16549,16512,16504,15541,15194,14755,14570,14437,13779,13864,13262,13117,12914,12448,12456,12530,12540,11942,11487,11322,11092,10534,10581,10459,9721,9620,9545,9395,9159,9179,9223,8809,8215,8125,8124,8010,7813,7813,7749,7335,7322,7240,7084,7070,6969,6838,6809,6785,6598,6614,6619,6574,6514,6396,5871,5856,5788,5659,5624,5583,5648,5549,5466,5376,5424,5388,5344,5346,5358,5212,5196,5217,5174,5150,5157,5252,5328,5414,5620,5696,5614,5794,6038,6265,6442,6615,6735,6849,7036,7193,7399,7654,7758,7842,7946,8045,8166,8318,8289,8509,8558,8507,8510,8630,8711,8628,8705,8757,8699,8763,8714,8841,8745,8904,8997,8751,8720,8834,8825,8827,9026,9186,9149,9498,10004,10713,11570,12368,12866,13648,14509,16252,18223,20586,22119,23385,24913,28235,31677,35753,40319,45426,47624,51898,58042,64184,71161,77586,85411,89577,93351,99208,106684,111233,121206,125535,124375,128115,134247,134964,143149,147841,153923,143583,147522,142857,146374,150407,153435,155066,140642,139468,128973,131471,121761,121780,124320,117069,112815,110719,110470,109088,108397,109200,108857,104875,83410,80882,81299,79060,80476,72583,70238,64158,62637,62952,62566,63857,56521,56314,55460,53209,54212,55270,55018,50462,50286,48898,50697,51473,52226,53199,48976,48498,48796,50406,50775,51404,53741,50523,50308,50850,52018,53087,53880,52080,49562,49417,49620,49000,49228,48571,49171,46158,45046,45088,45931,45645,46310,47212,44615,42654,43432,42995,44294,44415,45015,42521,43123,42676,43092,44528,45212,46691,44692,44607,44590,45889,47683,49261,50918,49152,50390,50873,53397,56817,59217,61797,60337,62806,64285,67127,70781,75155,76577,74332,76316,78866,82305,86149,87731,90696,86237,88537,88343,91539,93320,96769,98043,90789,90255,92149,94101,96696,98651,94754,87941,88551,87959,88351,89096,86603,86478,86947,76211,74864,74664,74499,72155,72770,66113,64827,63694,61792,61536,62177,60939,54201,53005,52601,52742,51620,52432,53126,48539,48650,47987,47920,48440,47684,48454,44527,44395,43581,44467,43647,42214,42506,38554,37726,36982,36776,36027,36177,36079,35839,35468,34985,34312,34251,33552,33847,33883,32853,31857,31181,31039,31001,30741,30212,29849,20566,20394,20437,20286,19641,19595,19445,18095,18020,17625,17705,17649,17667,17636,16618,16540,13314,13105,13172,13179,12993,12229,12116,12187,11502,11527,10914,10902,10205,10192,9782,9201,8737,8201,8265,8332,8508,8690,8302,7915,7464,7674,8045,7720,8080,6911,7241,7413,7195,6726,7070,7560,7958,8357,8504,8832,9294,9661,9990,10631,10939,11204,11331,11776,12048,12172,12522,13003,13137,13083,13063,13033,12990,12867,12881,12675,12547,12235,12238,11823,11772,11894,11938,11962,11606,11662,11552,11575,11770,11780,10615,10675,10720,10611,10820,11009,10936,11022,10802,10885,10795,10926,11030,11067,10944,10815,10652,10590,10877,10952,10968,10948,10627,10466,10261,10308,10413,10412,10245,9926,9645,9512,9428,9583,9606,9326,8973,8781,8557,8578,8644,8663,8537,8085,7878,7757,7910,8003,8009,8151,7957,7987,7850,7953,8151,8164,8381,8417,8558,8722,8972,9281,9351,9517,9676,9874,10172,10644,11107,11327,11738,12157,12581,13078,13891,14681,15041,16294,16921,17845,18779,20144,21237,21772,22051,23163,24603,25779,26880,28780,29484,30383,31226,33673,34358,35949,37769,38510,38951,41151,41858,42851,45678,48010,48889,49390,51301,54597,57573,61740,66283,68404,73048,80314,92963,101383,115102,118368,122154,148300,176635,213119,250300,282730,289825,301496,341416,388799,428821,441697,473148,505997,515967,540123,546926,574548,551973,543052,554617,541537,490685,495450,514817,503173,479813,461552,447489,422020,439839,416161,403327,398766,384032,368874,341553,344361,317225,302131,288281,272791,251608,236053,233381,215465,201179,189628,182517,171656,161101,160364,150982,146847,139675,136260,134166,129418,128720,123327,122402,120732,119002,117143,113222,115304,113891,110763,110765,109915,109121,110692,113343,110786,111194,114642,114954,115856,118999,123945,126835,130897,135322,137904,138191,140574,146904,150238,152388,152260,153331,152572,153359,159922,157840,159444,162517,165529,164430,160837,164854,163697,166292,163323,165855,164326,161120,164069,164504,160817,165722,166941,159045,157834,159190,164472,157609,158987,158879,156196,155854,156050,160081,155872,152205,155207,149976,150228,153300,146638,145555,144135,143251,142564,143258,146567,135386,134802,133238,133578,132055,128910,129907,125012,123595,122622,124849,119895,116176,117296,109778,108388,105237,105106,104178,99199,99927,97692,97151,96162,96798,96169,97157,96904,96566,92279,88255,84900,80113,74534,69913,66463,63100,58259,59743,56511,59932,66172,72736,76517,81148,86334,87800,81116,102786,113591,114724,115855,124257,122890,127651,138741,138520,142072,145447,151888,151039,153177,162589,163479,160497,164932,169134,164127,155600,163082,157983,156911,153086,154304,150391,144835,148443,131670,127651,121154,121327,117044,107571,108600,99822,97305,92774,93785,90581,80361,76388,69572,62353,58626,58105,56554,55419,49896,51200,47279,45504,46048,44485,43067,44167,43309,42130,42328,43122,42658,43273,44120,42380,42235,42136,41367,39951,38127,38172,35281,34503,33089,33733,33031,31737,33311,31895,32452,33623,32991,34183,35419,36631,35476,36616,37347,39217,39344,42398,47487,48934,52903,54377,57972,57966,62765,68999,70047,73740,77139,81128,80215,82473,88519,87216,86976,93229,95543,94079,91278,93098,85974,81847],[0,0,0,40,0,0,33,66,0,111,126,93,55,26,96,250,4,185,113,462,351,357,117,1003,290,517,755,815,210,582,624,558,162,961,293,1082,548,530,814,791,222,184,437,635,649,559,574,543,343,312,343,34,541,454,286,390,482,1366,736,1242,430,445,171,191,440,304,416,387,10,225,133,620,5881,324,572,2138,292,75,707,968,487,2394,427,506,508,190,849,207,1018,688,301,513,875,766,1486,546,1028,990,166,781,239,55,752,469,183,263,1199,507,744,557,426,1019,264,877,489,505,741,276,183,345,791,757,383,492,723,129,201,821,225,188,261,330,73,61,458,673,217,145,192,277,78,86,475,96,140,244,48,147,164,85,113,235,63,78,80,99,161,616,97,110,164,48,86,62,208,152,171,29,72,101,95,54,258,113,38,85,71,79,51,97,103,29,27,196,87,30,84,98,48,10,110,39,60,107,134,86,24,158,112,116,114,293,40,64,223,152,150,129,326,134,20,229,119,275,152,336,61,20,435,236,212,304,392,113,78,373,147,153,260,244,202,163,197,865,209,334,154,1285,341,334,519,468,477,170,439,1211,418,989,804,1567,2064,489,889,2539,1495,892,4961,1118,1420,5629,6780,1615,8229,2040,2961,1617,14231,4018,11935,3791,4985,5640,3208,19637,5858,15749,3118,15054,4736,756,8940,8174,5487,3869,6015,3983,1650,1885,5699,23090,4581,2600,5034,908,8906,4721,9045,4354,2515,2396,618,8376,2356,2960,4920,1721,658,712,5093,1141,3015,2147,2287,626,728,5104,1646,2486,1214,1395,1683,847,4717,1184,1646,1378,1083,1212,3394,3722,976,1573,2822,1751,2178,795,4465,2162,2161,1714,2148,1147,478,3643,2765,906,2155,1152,1766,926,3310,905,2238,1981,1019,1535,500,2897,1615,1715,1205,1875,1406,784,3122,1091,2762,1596,1071,1695,865,3432,1019,2884,2057,1415,1065,2780,4328,1807,1628,2167,2116,3975,1279,6430,1541,4422,2245,3603,1185,2589,9240,3851,2256,3040,2400,2810,7381,8591,2469,4510,4177,3222,6566,3090,810,11520,3866,2705,3613,5434,1783,7728,3227,3345,4803,2867,2066,3142,7850,2816,2552,2498,3545,1620,1399,5499,1228,3177,2461,1762,2949,601,4618,1407,2420,1352,2680,3093,1123,4583,1723,2027,1710,1992,1095,990,938,992,1482,1840,998,1620,497,223,1550,1730,1457,852,752,765,685,807,9898,494,381,642,1045,216,434,1727,467,729,193,316,118,220,1333,346,3406,425,73,89,317,932,300,86,823,105,667,118,855,166,561,707,608,618,65,42,55,60,594,633,542,27,60,704,21,1609,39,33,626,1037,165,194,166,63,27,282,243,278,347,138,210,54,429,347,514,541,394,138,64,569,775,707,696,774,321,340,492,977,628,912,583,290,145,476,947,698,712,513,243,117,1877,615,614,749,360,199,239,416,866,566,685,451,331,174,534,753,727,428,467,280,122,482,786,608,687,438,208,122,508,759,683,517,447,176,90,547,803,483,532,256,219,70,420,769,490,406,290,203,102,267,648,358,518,280,197,101,256,467,441,344,318,168,119,39,488,519,530,352,243,65,402,631,626,571,413,215,124,86,1184,742,757,526,323,92,1330,1084,837,992,795,572,103,1274,1592,147,2087,1361,766,217,2269,1121,741,2417,1167,957,410,3256,2822,1991,2579,1891,828,380,3583,3234,165,7598,3594,1260,1160,2456,4202,2619,4195,4739,3184,1633,9970,4057,12523,5622,17351,3684,7436,21131,34044,11870,56294,42063,15078,22800,88556,32426,14131,44411,54486,39966,22802,53777,9926,48799,34188,23118,29298,20490,46641,13320,42082,26444,25070,23861,24259,27748,12148,26367,21444,18136,12448,12795,18316,6803,15558,9618,12485,7755,3859,11915,6292,10612,5490,6148,5064,3231,9684,2634,5801,7475,4285,4470,2378,4918,2947,8370,5426,2029,4474,1397,6340,3248,5735,4453,3588,3779,2217,8955,2853,5913,6513,8686,5686,3427,11668,2870,11201,7411,5691,3317,3570,15195,5084,10547,6036,11488,4083,4052,14847,5718,8346,11770,3653,5001,9471,3506,12660,4338,16017,7119,6075,5008,2996,12854,4584,11843,10627,2248,6880,9318,3373,13012,6832,6729,2878,3019,8763,2877,17307,5945,6545,3077,2956,10049,3317,8897,4976,4271,71,5948,8036,1695,10294,3837,5527,1949,1654,8265,1548,4619,1240,4097,1240,1503,3488,3416,3608,7424,7122,5720,6022,11740,9275,8870,8346,10108,2760,5107,6421,3020,1914,4501,3461,1715,1528,8990,3432,1206,10361,10456,122,4586,14192,2508,13758,8945,9196,2832,4456,17964,5732,13459,15927,7441,4724,8245,26676,3690,15934,9972,12493,5115,6200,18558,4998,24435,10843,12671,4386,5994,18331,4553,14181,7249,8884,2135,4335,15660,7751,10031,10208,6543,2708,2498,1894,10195,1723,6699,4596,1685,2582,6322,2236,3932,4221,2787,1571,1498,4261,2309,4727,2897,2602,2642,2144,5796,2705,5468,3189,3710,1193,1465,5631,1307,4427,2563,1688,926,1033,4305,2328,4992,2491,3366,1254,1303,5863,1431,5402,2227,4489,1278,1814,7340,2205,8031,4955,5218,2195,3098,11666,3010,10092,8158,1402,3308,3297,15490,6389,15095,10910],[6,3,0,5,3,6,1,14,17,18,25,37,19,113,66,135,149,127,146,76,252,202,220,319,209,381,546,361,320,402,296,387,541,542,416,458,381,394,367,351,345,249,297,282,238,300,216,273,110,280,241,235,231,243,199,163,163,203,161,200,166,163,56,124,126,104,93,88,329,42,63,95,222,134,94,85,62,68,62,69,111,115,39,69,24,54,65,65,57,56,0,34,22,58,20,38,67,33,19,12,29,29,21,27,21,32,15,32,25,31,23,21,8,9,14,36,18,23,13,3,6,7,22,16,2,13,1,4,6,21,4,16,6,3,13,12,5,6,4,8,9,3,5,10,3,10,0,8,1,1,3,0,0,0,0,1,0,0,4,1,8,3,1,5,5,0,3,1,0,0,0,2,1,1,3,0,0,4,2,6,0,4,1,0,0,0,3,0,3,2,2,2,1,6,1,3,6,2,3,1,4,0,3,2,2,2,1,2,9,5,1,2,0,10,2,4,5,2,3,4,5,4,5,2,2,0,5,1,1,2,3,3,6,17,26,7,13,21,6,19,20,29,7,51,25,17,58,47,57,48,73,54,46,117,96,139,131,108,117,99,129,152,187,118,158,181,99,202,182,165,175,169,165,140,186,155,207,181,119,135,208,249,175,347,147,111,140,56,128,69,172,132,85,144,67,114,106,68,60,105,49,41,92,98,67,105,36,49,42,49,80,85,80,78,36,27,62,92,34,133,63,59,62,54,51,72,68,78,65,45,57,66,55,58,104,44,46,77,62,88,77,58,24,52,63,46,40,46,50,58,51,55,39,54,47,61,21,35,38,29,55,33,37,50,45,43,38,44,47,49,37,42,55,60,59,61,67,33,52,63,70,81,89,66,61,79,81,79,92,80,78,90,77,99,110,100,100,102,75,88,85,100,127,97,97,74,81,53,109,130,92,81,77,62,94,85,65,87,74,64,35,67,72,54,57,49,39,31,54,47,40,41,52,23,28,41,32,35,25,43,33,23,30,36,13,23,22,18,13,31,25,22,11,13,9,7,17,15,41,29,13,5,13,9,10,7,6,10,16,6,11,10,6,5,13,6,3,8,5,4,2,3,2,4,1,3,4,2,5,2,1,3,2,2,0,3,1,0,5,0,1,3,3,1,1,2,0,0,2,4,1,1,0,3,1,1,0,1,1,1,1,3,1,4,0,0,3,4,1,1,1,1,1,4,2,2,5,4,1,3,2,7,3,3,3,2,0,7,5,6,3,8,5,1,2,6,4,2,2,2,3,1,6,2,2,3,3,3,6,6,9,2,2,1,1,9,4,3,5,8,10,4,6,5,4,8,1,4,6,7,2,6,3,5,2,5,3,5,10,4,0,2,5,7,4,1,4,2,4,1,3,0,3,4,3,4,3,0,10,15,7,4,3,0,4,5,6,6,13,5,3,5,13,8,4,5,2,11,7,13,12,7,14,5,8,15,24,17,15,19,8,15,9,25,20,21,21,10,23,20,29,20,26,24,18,40,17,21,45,28,38,15,12,28,28,36,37,14,45,19,34,47,46,59,20,38,61,55,91,52,115,77,57,81,64,70,131,121,82,67,87,70,74,123,77,88,62,76,57,50,125,77,76,74,70,50,29,75,60,45,27,77,33,18,51,59,49,29,37,53,18,45,50,19,43,23,28,23,35,37,32,34,30,9,14,25,19,32,18,13,14,11,23,26,17,17,15,17,15,34,21,13,14,8,21,23,20,7,12,35,14,18,12,29,35,17,21,13,26,15,25,23,34,29,28,4,24,30,36,43,23,18,22,26,9,26,20,45,31,22,10,22,29,15,22,21,34,12,24,20,21,23,19,26,11,27,15,24,4,4,6,31,27,21,14,9,17,6,5,17,6,11,2,13,8,5,22,11,11,12,6,15,0,7,6,7,4,12,9,2,15,8,12,14,11,9,9,13,15,8,23,4,7,12,17,8,29,5,31,15,14,29,27,30,27,12,28,15,42,31,34,28,13,70,23,37,46,26,24,25,29,20,31,44,39,32,27,20,13,36,44,25,20,10,13,11,16,22,24,23,16,24,11,20,18,17,15,14,7,6,13,23,17,7,4,13,10,17,16,8,9,7,9,3,10,9,12,8,7,10,6,12,14,14,8,9,20,6,2,12,10,12,12,10,4,16,16,18,13,12,13,10,16,38,23,19,13,26,17,26,28],[11.35,3.04,-3.66,129.46,8.45,9.46,31.92,25.81,16.1,11.71,199.54,30.03,36.36,27.9,79.95,23.96,35.88,37,34.59,42.02,49.12,43.09,54.47,58.92,66.57,48.28,34.02,43.72,58.81,56.24,33.05,42.05,29.57,31.87,32.52,31.54,29.22,22.98,18.9,21.51,23.41,16.49,21.56,18.22,13.24,14.77,13.29,15.48,15.32,23.99,26.79,11.65,8.79,9.6,10.54,9.69,11.61,14.3,8.6,8.93,9.42,5.64,8.47,11.68,10.14,5.43,5.41,5.38,4.08,7.35,7.23,7.75,5.26,4.65,5.77,4.37,3.83,4.85,5.01,3.61,3.71,2.46,2.82,2.76,3.45,3.1,2.55,2.15,1.54,2.57,2.49,2.62,1.73,3.07,2.46,2.51,1.55,1.69,1.4,2.16,2.09,2.46,2.07,1.04,1.56,4.32,1.95,1.06,1.88,1.83,2.22,2.61,3.9,2.03,2.09,1.88,1.5,1.77,1.64,1.84,0.89,0.97,1.73,1.11,0.8,1.19,0.98,1.01,1.29,1.04,1.18,0.94,1.12,1.9,1.57,0.67,1.01,1.17,0.95,0.81,1.45,0.53,0.6,0.75,0.55,0.97,0.47,1.31,0.57,0.95,0.54,0.54,0.74,0.92,0.85,0.84,0.53,0.79,0.92,0.65,0.49,0.59,0.77,1.49,1.31,0.85,1.19,1.09,0.33,1.5,1.28,1.03,1.3,1.34,1.25,1.03,0.9,1.01,1.12,1.63,1.43,1.75,1.42,1.2,1.62,1.59,1.6,1.55,1.83,1.37,1.49,1.39,1.62,1.23,1.66,1.63,1.2,1.3,1.02,1.41,1.43,1.63,2.06,1.58,0.91,0.89,1.29,1.33,1.12,1.41,0.9,1.23,0.86,1.07,1.36,1.34,1.3,1.5,1.47,1.07,1.31,1.55,2.08,2.12,3.11,2.18,2.41,3.09,3.84,4.98,6.62,4.99,6.28,6.35,6.36,7.91,9.17,9.6,11.57,9.31,11.33,11.55,13.3,15.13,16.33,16.74,16.81,18.32,17.19,19.11,19.07,21.7,21.91,21.04,17.75,21.24,21.41,24.92,16.54,22.62,23.21,15.52,21.64,19.11,22.87,20.83,22.89,22.07,20.03,19.82,21.83,19.99,17.09,16.09,15.74,12.3,12.88,13.17,12.38,11.26,11.36,11.63,9.49,10.34,10.72,10.09,9.27,9.32,10.17,8.7,8.64,8.94,9.38,9.15,8.35,8.69,7.96,8.64,8.11,7.19,8.01,8.97,7.13,6.54,8.22,9.41,10.47,9.51,10.44,7.26,7.01,11.74,12,11.92,12.94,10.57,10.46,10.37,13.77,10.66,10.09,13.06,11.14,7.18,7.04,9.03,6.5,6.04,6.4,7.28,3.85,4.86,5.92,5.78,4.83,5.93,7.9,5.12,5.12,6.25,5.56,4.64,5.87,6.37,4.02,4.5,5.28,6.42,5.33,5.48,6.43,5.51,5.09,5.8,6.57,5.56,6.56,6.63,5.68,4.61,5.98,7.18,6.86,7.58,8.34,7.06,6.58,8.24,9.75,9.14,9.47,10.38,8.95,8.25,9.66,9.12,9.67,10.32,10.01,8.58,7.96,9.4,10.27,9.78,9.63,10.11,8.63,7.61,8.93,8.49,8.53,8.67,9.69,7.72,7.18,8.45,8.35,7.95,8.12,8.48,7.39,6.95,7.61,6.86,7.13,7.23,7.83,8.03,5.5,4.67,5.82,5.6,5.57,5.24,5.13,4.26,5.21,5.16,5.07,5.21,5.55,3.56,4.24,4.81,4.92,4.58,5.05,5.13,3.82,4.28,4.5,4.13,3.62,4.25,4.17,3.44,3.1,3.93,3.44,3.02,3.37,3.59,2.32,2.36,2.82,2.64,2.36,2.46,3.24,1.81,1.91,2.27,1.88,1.75,2.16,1.84,1.56,1.58,1.66,1.45,1.38,1.62,1.52,1.29,1.27,1.88,1.18,1.11,1.3,1.12,0.84,0.74,0.99,0.75,0.7,0.96,0.87,0.57,0.73,0.62,0.33,0.42,0.51,0.79,0.46,0.4,0.47,0.4,0.31,0.45,0.49,0.33,0.4,0.38,0.39,0.35,0.51,0.56,0.42,0.31,0.69,0.7,0.58,0.94,1.09,0.82,1.2,1.18,1.15,1.15,1.3,1.79,1.27,1.52,1.53,1.91,1.43,1.64,2.06,1.79,1.88,1.71,1.85,1.97,1.76,3.1,1.63,2.05,2.24,1.67,1.59,1.76,1.82,1.33,2.09,2.06,1.87,1.71,3.41,2.32,1.13,1.62,1.87,1.46,1.4,1.39,1.91,1.24,1.55,1.99,1.67,1.24,1.29,1.47,1.38,1.37,1.37,1.43,1.19,0.73,1.4,0.88,1.3,1.29,1.2,1.01,0.92,1.47,0.74,1.24,1.1,0.9,1.02,0.71,0.98,0.77,0.82,0.82,0.91,0.72,0.55,0.93,0.54,0.8,0.69,0.72,0.54,0.58,0.68,0.47,0.82,0.53,0.59,0.44,0.49,0.57,0.5,0.58,0.41,0.27,0.41,0.33,0.34,0.28,0.46,0.3,0.39,0.38,0.42,0.36,0.33,0.53,0.44,0.52,0.58,0.55,0.63,0.5,0.48,0.7,0.73,0.85,0.74,0.85,0.59,1.1,0.81,1.11,1.15,1.03,1.37,0.95,1.74,1.26,1.65,1.63,1.34,1.6,1.09,1.94,1.6,1.92,1.52,2.2,1.93,1.36,2.07,1.78,2.25,2.18,2.16,2.28,1.95,3,2.96,2.16,3.56,3,2.77,2.22,3.54,3.26,3.82,4.09,4.06,4.52,4.08,5.79,6.27,7.7,7.87,13.22,11.45,12.82,15.59,17.09,18.1,18.62,23.6,19.9,20.96,24.03,22.87,24.91,20.66,19.3,20.36,17.18,18.39,16.72,15.81,14.47,14.35,14.38,11.85,16.37,21.99,16.15,14.56,13.34,12.48,11.21,13.37,13.96,12.13,11.1,9.88,8.98,8.39,10.19,10.28,8.48,8.63,7.86,6.96,7.63,8.91,8.15,7.98,7.75,8.22,7.01,7.2,7.51,7.74,7.59,7.55,8.5,7.58,7.36,7.6,6.85,7.25,7.21,7.36,6.88,6.71,7.1,6.53,7.74,7.52,8.42,8.11,7.83,8.75,8.43,9.75,9.41,10.4,10.77,10.44,11.22,11.07,12.55,11.99,12.67,11.18,11.88,12.16,11.9,12.51,12.44,12.88,11.57,12.61,12.76,12.17,12.66,13.19,12.15,10.36,12.5,13.37,12.86,13.67,13.1,12.77,11.48,12.88,12.92,12.3,13.96,12.7,12.74,12.53,10.65,14.2,13.94,14.01,14.1,13.02,12.26,11.62,13.85,13.14,12.82,12.52,12.83,12.51,16.13,12.87,13.85,14.05,12.66,9.69,14.71,15.25,13.69,13.67,14.07,12.74,12.27,11.33,12.51,10.4,10.96,10.56,9.91,8.98,8.51,9.71,8.65,8.63,8.09,8.05,8.19,7.27,8.8,7.93,8.64,7.56,11.23,9.87,8.95,11.98,11.18,12.34,12.61,11.66,11.63,12.13,16.42,15.53,18.24,17.9,17.69,18.32,18.19,22.2,22.65,22.33,22.99,21.07,22.6,22.88,11.23,29.76,25.92,25.14,23.35,23.61,22.83,26.23,25.93,25.76,24.53,23.21,22.9,23.61,25.54,25.71,25.36,24.37,21.83,21.5,21.86,22.57,23.01,21.23,19.24,18.03,17.54,17.85,20.14,18.35,18.26,17.3,15.61,15.93,14.8,17.3,15.59,15.46,15,13.45,13.51,13.27,14.81,14.04,13.36,12.86,11.27,12.19,11.49,10.02,14.49,13.91,14.01,12.92,13.67,13.19,17.59,13.67,14.81,15.47,14.13,14.06,13.45,15.4,12.46,13.15,12.96,11.79,10.68,9.59,12.44,10.47,11.17,11.52,11.48,10.96,9.79,11.78,11.73,12.69,14.05,13.51,3.84,14.35,14.67,12.63,14.21,15.03,15.91,15.31,15.32,20.43,19.61,20.1,20.97,19.9,19.06,16.65,22.79,20.72,22.57,23.54,22.78,19.85,17.88,22.23,20.88,19.94,20.08,19.98,16.83,14.99,19.87,18.71,18.76,18.79]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>mese<\/th>\n      <th>giorno<\/th>\n      <th>ricoverati<\/th>\n      <th>t_intensiva<\/th>\n      <th>i_domiciliare<\/th>\n      <th>guariti<\/th>\n      <th>morti<\/th>\n      <th>t_positivit<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[[1,"desc"]],"dom":"Blfrtip","buttons":[{"extend":"collection","buttons":["csv","excel","pdf"],"text":"Download"}],"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7]}],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="pca" class="section level1">
<h1>PCA</h1>
<p>Per una visualizzazione degli score e loading plot per Italia e Lombardia (senza media mobile) cliccare su</p>
<p><a href="https://rpubs.com/melcam0/Ita_Lomb">PCA Ita e Lomb</a></p>
</div>
<div id="info" class="section level1">
<h1>Info</h1>
<div id="section-2" class="section level3" data-height="350">
<h3></h3>
<p>Consideriamo le 5 variabile dellandamento giornaliero italiano (quantit): ricoverati con sintomi, terapia intensiva, isolamento domiciliare, guariti e morti- Ho tolto il tasso di positivit (positivi/tamponi) visto che da met gennaio vengono considerati anche i tamponi rapidi provocando un valore non pi confrontabile a prima.</p>
<p>Nella PCA usiamo le prime 3 variabili (i_domiciliare e guariti, t_intensiva/ricoveri e morti fortemente correlati). Landamento  molto simili a usare le 5 variabili ma pi liscio.</p>
<p>Dati Protezione civile</p>
<p>Analisi delle componenti principali (su tutto il dato nazionale).</p>
<p>La percentuale della varianza totale letta dalle prime due componenti principali:</p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<pre><code>comp 1 comp 2 
 68.03  31.30 </code></pre>
</div>
<div id="section-3" class="section level3" data-height="500">
<h3></h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-18-1.png" width="576" data-figure-id=fig3 /></p>
<hr />
<p>Le variabili proiettate sul piano PC1/PC2</p>
</div>
<div id="section-4" class="section level3" data-height="500">
<h3></h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-19-1.png" width="576" data-figure-id=fig4 /></p>
<hr />
<p>La percentuale della varianza totale letta da PC1</p>
</div>
<div id="section-5" class="section level3" data-height="150">
<h3></h3>
<p>La prima componente legge la gravit della situazione in generale.</p>
<p>Landamento nel tempo della prima componente (o meglio dellla media mobile a 7 giorni - per smorzare le oscillazioni giornaliere )  in <em>Andamento giornaliero PC1</em>.<br />
La linea blu  Italia e la verde Lombardia. I pallini sono colorati per mese a partire da marzo 2020.</p>
<p>Gli stessi colori sono usati per i box con i valori giornalieri delle variabili.</p>
</div>
<div id="section-6" class="section level3" data-height="500">
<h3></h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-20-1.png" width="576" data-figure-id=fig5 /></p>
<hr />
<p>La percentuale della varianza totale letta da PC2</p>
</div>
<div id="section-7" class="section level3" data-height="150">
<h3></h3>
<p>La seconda componente legge i_domiciliare vs.t_intensiva/ricoveri</p>
<p>Landamento nel tempo della seconda componente (o meglio dellla media mobile a 7 giorni - per smorzare le oscillazioni giornaliere )  in <em>Andamento giornaliero PC2</em>.<br />
La linea blu  Italia e la verde Lombardia. I pallini sono colorati per mese a partire da marzo 2020.</p>
<p>Gli stessi colori sono usati per i box con i valori giornalieri delle variabili.</p>
<!-- ###  {data-height="500"} -->
<!-- ```{r echo=FALSE} -->
<!-- x=Y.pca$var$cos2[order(Y.pca$var$cos2[,2],decreasing = TRUE),] -->
<!-- x<-as.data.frame(x) -->
<!-- p<-ggplot(data=x, aes(x=rownames(x), y=Dim.2)) + -->
<!--   geom_bar(stat="identity", fill="steelblue")+ -->
<!--   scale_x_discrete(limits=rownames(x))+ -->
<!--   ylab("")+xlab('')+ -->
<!--   ggtitle("% var letta da PC 2") -->
<!-- print(p) -->
<!-- ``` -->
<!-- ------------------------------------------------------------------------ -->
<!-- La percentuale della varianza totale letta da PC2 -->
<!-- ###  {data-height="150"} -->
<!-- La seconda componente "legge" i guariti e isolamento domiciliare vs i ricoverati, terapie intensive e morti. La guarigione  sia clinica (dimessi) che virologica (positivi diventati negativi) il che rende la variabile un po' ingannevole -->
<!-- L'andamento nel tempo della seconda componente (o meglio dellla media mobile a 7 giorni - per "smorzare" le oscillazioni giornaliere ) "legge" soprattutto i guariti . -->
<!-- ###  {data-height="500"} -->
<!-- ```{r echo=FALSE, message=FALSE, warning=FALSE} -->
<!-- library(ggplot2) -->
<!-- #library(plotly) -->
<!-- #colours <- c("Italia" = "blue","Lombardia" = "Green") -->
<!-- ggplot(data=S,aes(x=giorno,y=Dim.2,colour=mese,label=giorno))+ -->
<!--   geom_path(colour="blue",size = 0.5)+ -->
<!--   geom_point(size = 0.6)+ -->
<!--   #geom_line(mapping = aes(x=S_mm$giorno,y=S_mm$Dim.1),col='red')+ -->
<!--   #geom_text()+ -->
<!--   geom_path(mapping=aes(x=S_L$giorno,y=S_L$Dim.2,label=S_L$giorno),colour="green4",size = 0.5)+ -->
<!--   geom_point(mapping=aes(x=S_L$giorno,y=S_L$Dim.2,colour=S_L$mese,label=S_L$giorno),size = 0.6)+ -->
<!--   ylab('MM (7gg) PC 2')+theme(legend.position="none") -->
<!-- ``` -->
</div>
</div>

</div>

<script>

$(document).ready(function () {

  // add bootstrap table styles to pandoc tables
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');

  // initialize mathjax
  var script = document.createElement("script");
  script.type = "text/javascript";
  script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
  document.getElementsByTagName("head")[0].appendChild(script);

});
</script>

<div id="flexdashboard-source-code">
<pre class="line-numbers"><code class="language-r">---
title: "Ita Lomb"
date: "`r format(Sys.time(), '%d %B %Y')`"
output: 
  flexdashboard::flex_dashboard:
    #theme: journal
    vertical_layout: scroll
    source_code: embed
    #social: [ "menu" ]
    navbar:
      - { icon: "fa-envelope-o", href: "mailto:camillomelzi@gmail.com", align: right }
---

```{r setup, include=FALSE}
library(flexdashboard)

library(readr)
library(ggplot2)
covid <- read_csv("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-andamento-nazionale/dpc-covid19-ita-andamento-nazionale.csv")
#X<-covid[covid$denominazione_regione=='Campania',]
# covid <- covid[1:338,]
X<-covid
Giorno<-c(1:nrow(X))
X<-cbind.data.frame(Giorno,X$ricoverati_con_sintomi,X$terapia_intensiva,
                    X$isolamento_domiciliare,X$dimessi_guariti,X$deceduti,X$tamponi,X$nuovi_positivi)
Y<-X
for(i in 2:nrow(X))Y[i,5:7]<-X[i,5:7]-X[i-1,5:7]
Y[,7]<-X$`X$nuovi_positivi`/Y[,7]
Y<-Y[,1:7]
colnames(Y)<-c('giorno','ricoverati','t_intensiva','i_domiciliare','guariti','morti','t_positivit')

n<-nrow(Y)

Y<-cbind.data.frame(mese=months(unique(covid$data)),Y)
Y$mese<-factor(Y$mese,levels=c('febbraio','marzo','aprile','maggio','giugno','luglio','agosto',
                               'settembre','ottobre','novembre','dicembre','gennaio'))


covid <- read_csv("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-regioni/dpc-covid19-ita-regioni.csv")
X<-covid[covid$denominazione_regione=='Lombardia',]

# X <- X[1:(nrow(X)-1),]

Giorno<-c(1:nrow(X))
X<-cbind.data.frame(Giorno,X$ricoverati_con_sintomi,X$terapia_intensiva,
                    X$isolamento_domiciliare,X$dimessi_guariti,X$deceduti,X$tamponi,X$nuovi_positivi)
Z<-X
for(i in 2:nrow(X))Z[i,5:7]<-X[i,5:7]-X[i-1,5:7]
Z[,7]<-X$`X$nuovi_positivi`/Z[,7]
Z<-Z[,1:7]
colnames(Z)<-c('giorno','ricoverati','t_intensiva','i_domiciliare','guariti','morti','t_positivit')

n<-nrow(Z) 

Z<-cbind.data.frame(mese=months(unique(covid$data)),Z)
Z$mese<-factor(Z$mese,levels=c('febbraio','marzo','aprile','maggio','giugno','luglio','agosto',
                               'settembre','ottobre','novembre','dicembre','gennaio'))

Y<-rbind.data.frame(Y,Z)


library(FactoMineR)
m<-n+1;p<-2*n
Y.pca<-PCA(X = Y,ncp = 3,quali.sup = c(1,2,6:8),ind.sup=m:p,graph = FALSE,scale.unit = TRUE)
Y.score<-cbind.data.frame(Y[1:n,1:2],Y.pca$ind$coord)
Y.var<-cbind.data.frame(Y.pca$var$coord)
Y_L.score<-cbind.data.frame(Y[m:p,1:2],Y.pca$ind.sup$coord)


n<-nrow(Y.score)
S<-cbind.data.frame(Y.score[7:n,1:2],(Y.score[1:(n-6),3:4]+Y.score[2:(n-5),3:4]+Y.score[3:(n-4),3:4]+Y.score[4:(n-3),3:4]+Y.score[5:(n-2),3:4]+Y.score[6:(n-1),3:4]+Y.score[7:n,3:4])/7)

S_L<-cbind.data.frame(Y_L.score[7:n,1:2],(Y_L.score[1:(n-6),3:4]+Y_L.score[2:(n-5),3:4]+Y_L.score[3:(n-4),3:4]+Y_L.score[4:(n-3),3:4]+Y_L.score[5:(n-2),3:4]+Y_L.score[6:(n-1),3:4]+Y_L.score[7:n,3:4])/7)

n<-nrow(Y)
T<-Y[c(n/2,n),3:8]
rownames(T)<-c('Ita','Lomb')
```

# Andamento giornaliero PC1 {data-orientation="rows"}

## Row {data-height="700"}

### 

```{r echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
#library(plotly)
#colours <- c("Italia" = "blue","Lombardia" = "Green")
palette <- randomcoloR::distinctColorPalette(12)

S$giorno <- as.Date(S$giorno,'23/2/2019',"%d/%m/%y")
S_L$giorno <- as.Date(S_L$giorno,'23/2/2019',"%d/%m/%y")

 
ggplot(data=S,aes(x=giorno,
                  y=Dim.1,colour=palette[mese],
                  label=giorno))+ 
  geom_path(colour="blue",size = 0.5)+
  # geom_point(size = 0.6)+ 
  #geom_line(mapping = aes(x=S_mm$giorno,y=S_mm$Dim.1),col='red')+
  #geom_text()+
  geom_path(mapping=aes(x=S_L$giorno,y=S_L$Dim.1,label=S_L$giorno),colour="green4",size = 0.5)+
  # geom_point(mapping=aes(x=S_L$giorno,y=S_L$Dim.1,colour=palette[S_L$mese],label=S_L$giorno),size = 0.6)+ 
  ylab('MM (7gg) PC 1')+theme(legend.position="none")+
  scale_x_date(date_breaks="4 month",date_labels =  "%b %Y",date_minor_breaks = "1 month",
               limits = c(min(S$giorno), max = max(S$giorno)),expand = c(0,0)
               )

```

## Row {data-height="150"}

### Ita_ricoverati

```{r}
valueBox(value = paste(format(T[1,1], big.mark = "."), "", sep = " "), 
         caption = "Ricoverati", 
         color ="blue")
```

### Ita_t\_intensiva

```{r}
library(flexdashboard)
valueBox(value = paste(format(T[1,2], big.mark = "."), "", sep = " "), 
         caption = "Terapia intesiva", 
        color ="blue")
```

### Ita_i\_domiciliare

```{r}
library(flexdashboard)
valueBox(value = paste(format(T[1,3], big.mark = "."), "", sep = " "), 
         caption = "Isolamento domiciliare", 
         color ="blue")
```

### Ita_guariti

```{r}
library(flexdashboard)
valueBox(value =paste(format(T[1,4], big.mark = "."), "", sep = " "), 
         caption = "Guariti", 
         color ="blue")
```

### Ita_morti

```{r}
library(flexdashboard)
valueBox(value = paste(format(T[1,5], big.mark = "."), "", sep = " "),  
         caption = "Morti", 
         color ="blue")
```

### Ita_t\_positivit

```{r}
library(flexdashboard)
valueBox(value = paste(format(round(T[1,6]*100,2), big.mark = "."), " %", sep = " "),  
         caption = "Tasso positivit", 
         color ="blue")
```

## Row {data-height="150"}

### Lomb_ricoverati

```{r}
valueBox(value = paste(format(T[2,1], big.mark = "."), "", sep = " "), 
         caption = "Ricoverati", 
         color ="green")
```

### Lomb_t\_intensiva

```{r}
library(flexdashboard)
valueBox(value = paste(format(T[2,2], big.mark = "."), "", sep = " "), 
         caption = "Terapia intesiva", 
        color ="green")
```

### Lomb_i\_domiciliare

```{r}
library(flexdashboard)
valueBox(value = paste(format(T[2,3], big.mark = "."), "", sep = " "), 
         caption = "Isolamento domiciliare", 
         color ="green")
```

### Lomb_guariti

```{r}
library(flexdashboard)
valueBox(value =paste(format(T[2,4], big.mark = "."), "", sep = " "), 
         caption = "Guariti", 
         color ="green")
```

### Lomb_morti

```{r}
library(flexdashboard)
valueBox(value = paste(format(T[2,5], big.mark = "."), "", sep = " "),  
         caption = "Morti", 
         color ="green")
```

### Lomb_t\_positivit

```{r}
library(flexdashboard)
valueBox(value = paste(format(round(T[2,6]*100,2), big.mark = "."), " %", sep = " "),  
         caption = "Tasso positivit", 
         color ="green")
```

# Andamento giornaliero PC2 {data-orientation="rows"}

## Row {data-height="700"}

### 

```{r echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
#library(plotly)
#colours <- c("Italia" = "blue","Lombardia" = "Green")
palette <- randomcoloR::distinctColorPalette(12)

S$giorno <- as.Date(S$giorno,'23/2/2019',"%d/%m/%y")
S_L$giorno <- as.Date(S_L$giorno,'23/2/2019',"%d/%m/%y")

 
ggplot(data=S,aes(x=giorno,
                  y=Dim.2,colour=palette[mese],
                  label=giorno))+ 
  geom_path(colour="blue",size = 0.5)+
  # geom_point(size = 0.6)+ 
  #geom_line(mapping = aes(x=S_mm$giorno,y=S_mm$Dim.1),col='red')+
  #geom_text()+
  geom_path(mapping=aes(x=S_L$giorno,y=S_L$Dim.2,label=S_L$giorno),colour="green4",size = 0.5)+
  # geom_point(mapping=aes(x=S_L$giorno,y=S_L$Dim.2,colour=palette[S_L$mese],label=S_L$giorno),size = 0.6)+ 
  ylab('MM (7gg) PC 2')+theme(legend.position="none")+
  scale_x_date(date_breaks="4 month",date_labels =  "%b %Y",date_minor_breaks = "1 month",
               limits = c(min(S$giorno), max = max(S$giorno)),expand = c(0,0)
               )

```

# Dati Italia

```{r}
Y[,8]<-round(Y[,8]*100,2)
DT::datatable(data = Y[1:(m-1),],rownames = FALSE, extensions = 'Buttons',fillContainer = FALSE,
              options = list(order = list(list(1, 'desc')),dom = 'Blfrtip',
                             buttons = list(list(extend = 'collection',buttons = c('csv', 'excel', 'pdf'),text = 'Download')) 
                                                                  ))
```

# Dati Lombardia

```{r}
DT::datatable(data = Y[m:p,],rownames = FALSE, extensions = 'Buttons',fillContainer = FALSE,
              options = list(order = list(list(1, 'desc')),dom = 'Blfrtip',
                             buttons = list(list(extend = 'collection',buttons = c('csv', 'excel', 'pdf'),text = 'Download')) 
                                                                  ))
```

# PCA
Per una visualizzazione degli score e loading plot per Italia e Lombardia (senza media mobile) cliccare su

[PCA Ita e Lomb](https://rpubs.com/melcam0/Ita_Lomb)

# Info

###  {data-height="350"}

Consideriamo le 5 variabile dell'andamento giornaliero italiano (quantit): ricoverati con sintomi, terapia intensiva, isolamento domiciliare, guariti e morti- Ho tolto il tasso di positivit (positivi/tamponi) visto che da met gennaio vengono considerati anche i tamponi rapidi provocando un valore non pi confrontabile a prima.

Nella PCA usiamo le prime 3 variabili (i_domiciliare e guariti, t_intensiva/ricoveri e morti fortemente correlati). L'andamento  molto simili a usare le 5 variabili ma pi liscio.

Dati Protezione civile

Analisi delle componenti principali (su tutto il dato nazionale).

La percentuale della varianza totale letta dalle prime due componenti principali:

```{r}
library(FactoMineR)
n<-nrow(Z)
m<-n+1;p<-2*n
Y.pca<-PCA(X = Y,ncp = 3,quali.sup = c(1,2,6:8),ind.sup=m:p,graph = FALSE,scale.unit = TRUE)
Y.score<-cbind.data.frame(Y[1:n,1:2],Y.pca$ind$coord)
Y.var<-cbind.data.frame(Y.pca$var$coord)
Y_L.score<-cbind.data.frame(Y[m:p,1:2],Y.pca$ind.sup$coord)
round(Y.pca$eig[1:2,2],2)
```

###  {data-height="500"}

```{r echo=FALSE}
arrows = data.frame(x1 = rep(0,3), y1 = rep(0,3),
                    x2 = Y.var [,1], y2 = Y.var [,2])
g<-ggplot()+ 
  geom_text(data=Y.var,aes(x=Dim.1,y=Dim.2,label=rownames(Y.var),fontface=2))+ 
  geom_point(cbind.data.frame(x=0,y=0),mapping = aes(x=x,y=y),shape=3,colour="red")+
  xlim(-1,1)+ 
  ylim(-1,1)+
  xlab('PC 1')+ 
  ylab('PC 2')+
  geom_segment(data = arrows, aes(x = x1, y = y1, xend = x2, yend = y2),
             x=0, y=0,colour = "blue",arrow=arrow(angle=25, length=unit(0.25, "cm")))

print(g)
```

------------------------------------------------------------------------

Le variabili proiettate sul piano PC1/PC2

###  {data-height="500"}

```{r echo=FALSE}
x=Y.pca$var$cos2[order(Y.pca$var$cos2[,1],decreasing = TRUE),]
x<-as.data.frame(x)
p<-ggplot(data=x, aes(x=rownames(x), y=Dim.1)) +
  geom_bar(stat="identity", fill="steelblue")+ 
  scale_x_discrete(limits=rownames(x))+
  ylab("")+xlab('')+
  ggtitle("% var letta da PC 1")

print(p)

```

------------------------------------------------------------------------

La percentuale della varianza totale letta da PC1

###  {data-height="150"}

La prima componente "legge" la gravit della situazione in generale.

L'andamento nel tempo della prima componente (o meglio dellla media mobile a 7 giorni - per "smorzare" le oscillazioni giornaliere )  in *Andamento giornaliero PC1*.\
La linea blu  Italia e la verde Lombardia. I pallini sono colorati per mese a partire da marzo 2020.

Gli stessi colori sono usati per i box con i valori giornalieri delle variabili.

###  {data-height="500"}

```{r echo=FALSE}
x=Y.pca$var$cos2[order(Y.pca$var$cos2[,2],decreasing = TRUE),]
x<-as.data.frame(x)
p<-ggplot(data=x, aes(x=rownames(x), y=Dim.2)) +
  geom_bar(stat="identity", fill="steelblue")+ 
  scale_x_discrete(limits=rownames(x))+
  ylab("")+xlab('')+
  ggtitle("% var letta da PC 2")

print(p)

```

------------------------------------------------------------------------

La percentuale della varianza totale letta da PC2

###  {data-height="150"}

La seconda componente "legge" i_domiciliare vs. t_intensiva/ricoveri

L'andamento nel tempo della seconda componente (o meglio dellla media mobile a 7 giorni - per "smorzare" le oscillazioni giornaliere )  in *Andamento giornaliero PC2*.\
La linea blu  Italia e la verde Lombardia. I pallini sono colorati per mese a partire da marzo 2020.

Gli stessi colori sono usati per i box con i valori giornalieri delle variabili.

<!-- ###  {data-height="500"} -->

<!-- ```{r echo=FALSE} -->

<!-- x=Y.pca$var$cos2[order(Y.pca$var$cos2[,2],decreasing = TRUE),] -->

<!-- x<-as.data.frame(x) -->

<!-- p<-ggplot(data=x, aes(x=rownames(x), y=Dim.2)) + -->

<!--   geom_bar(stat="identity", fill="steelblue")+ -->

<!--   scale_x_discrete(limits=rownames(x))+ -->

<!--   ylab("")+xlab('')+ -->

<!--   ggtitle("% var letta da PC 2") -->

<!-- print(p) -->

<!-- ``` -->

<!-- ------------------------------------------------------------------------ -->

<!-- La percentuale della varianza totale letta da PC2 -->

<!-- ###  {data-height="150"} -->

<!-- La seconda componente "legge" i guariti e isolamento domiciliare vs i ricoverati, terapie intensive e morti. La guarigione  sia clinica (dimessi) che virologica (positivi diventati negativi) il che rende la variabile un po' ingannevole -->

<!-- L'andamento nel tempo della seconda componente (o meglio dellla media mobile a 7 giorni - per "smorzare" le oscillazioni giornaliere ) "legge" soprattutto i guariti . -->

<!-- ###  {data-height="500"} -->

<!-- ```{r echo=FALSE, message=FALSE, warning=FALSE} -->

<!-- library(ggplot2) -->

<!-- #library(plotly) -->

<!-- #colours <- c("Italia" = "blue","Lombardia" = "Green") -->

<!-- ggplot(data=S,aes(x=giorno,y=Dim.2,colour=mese,label=giorno))+ -->

<!--   geom_path(colour="blue",size = 0.5)+ -->

<!--   geom_point(size = 0.6)+ -->

<!--   #geom_line(mapping = aes(x=S_mm$giorno,y=S_mm$Dim.1),col='red')+ -->

<!--   #geom_text()+ -->

<!--   geom_path(mapping=aes(x=S_L$giorno,y=S_L$Dim.2,label=S_L$giorno),colour="green4",size = 0.5)+ -->

<!--   geom_point(mapping=aes(x=S_L$giorno,y=S_L$Dim.2,colour=S_L$mese,label=S_L$giorno),size = 0.6)+ -->

<!--   ylab('MM (7gg) PC 2')+theme(legend.position="none") -->

<!-- ``` -->
</code></pre>
</div>
<script type="text/javascript">
$(document).ready(function () {
  FlexDashboard.init({
    theme: "cosmo",
    fillPage: false,
    orientation: "columns",
    storyboard: false,
    defaultFigWidth: 576,
    defaultFigHeight: 460,
    defaultFigWidthMobile: 360,
    defaultFigHeightMobile: 460,
    resize_reload: true
  });
});
</script>

</body>
</html>
